<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<title>Ù‚Ø³Ù… Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø³Ø±ÙŠØ±ÙŠØ© - Ø¯Ø§Ø®Ù„ÙŠØ© Ø¹Ø§Ù…Ø© / Ø¬Ø±Ø§Ø­Ø© - Ø·Ø¨ÙŠØ¨ÙŠ</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&amp;display=swap" rel="stylesheet"/>
<link href="style.css" rel="stylesheet"/> <!-- Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ Ù…Ù„Ù Ø®Ø§Ø±Ø¬ÙŠØŒ ÙŠÙ…ÙƒÙ† Ø­Ø°ÙÙ‡ Ø¥Ø°Ø§ Ø§Ø¹ØªÙ…Ø¯Øª Ø¹Ù„Ù‰ <style> -->
<script src="https://js.puter.com/v2/"></script>
<style>
  /* CSS Variables Ù„Ù„Ù€Themes (Ù…ÙØ­Ø¯Ø«Ø© ÙˆÙ…ÙˆØ­Ø¯Ø© Ù…Ø¹ story.html) */
:root {
  --bg-color: #f5f7fa;
  --card-bg: #ffffff;
  --text-color: #333;
  --secondary-text: #666;
  --border-color: #d1d5db;
  --primary-blue: #1e88e5;
  --button-bg: #1e88e5;
  --button-hover: #1565c0;
  --secondary-button-bg: #f1f1f1;
  --secondary-button-hover: #ddd;
  --success-green: #4caf50;
  --shadow-light: rgba(0,0,0,0.05);
  --icon-color: #1e88e5;
  --animated-text-color: #60a5fa;
  --border-radius: 12px;
  --shadow: 0 6px 20px var(--shadow-light);
}

[data-theme="dark"] {
  --bg-color: #121212;
  --card-bg: #1e1e1e;
  --text-color: #e0e0e0;
  --secondary-text: #b0b0b0;
  --border-color: #4b5563;
  --primary-blue: #0d47a1;
  --button-bg: #0d47a1;
  --button-hover: #1565c0;
  --secondary-button-bg: #2a2a2a;
  --secondary-button-hover: #3a3a3a;
  --success-green: #388e3c;
  --shadow-light: rgba(255,255,255,0.05);
  --icon-color: #90caf9;
  --animated-text-color: #a5b4fc;
  --shadow: 0 6px 20px var(--shadow-light);
}

body {
  margin: 0;
  font-family: 'Tajawal', sans-serif;
  background: var(--bg-color);
  color: var(--text-color);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  transition: background-color 0.3s, color 0.3s;
}
    * {
    -webkit-user-select: none;  /* Safari */
    -moz-user-select: none;     /* Firefox */
    -ms-user-select: none;      /* Internet Explorer/Edge */
    user-select: none;          /* Non-prefixed version */
}

/* Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ§Ù„Ù†ØµÙˆØµ Ø­ØªÙ‰ ÙŠØªÙ…ÙƒÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨Ø© */
input, textarea, [contenteditable="true"] {
    -webkit-user-select: text;  /* Safari */
    -moz-user-select: text;     /* Firefox */
    -ms-user-select: text;      /* Internet Explorer/Edge */
    user-select: text;          /* Non-prefixed version */
}

/* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© */
.symptom-description {
  background: rgba(30, 136, 229, 0.1);
  padding: 15px;
  border-radius: var(--border-radius);
  margin-bottom: 20px;
  border-right: 4px solid var(--primary-blue);
  color: var(--text-color);
}

.questions-container {
  max-height: 400px;
  overflow-y: auto;
  padding-right: 10px;
}

.question-item {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  padding: 15px;
  margin-bottom: 15px;
}

.question-item h4 {
  margin: 0 0 10px 0;
  color: var(--primary-blue);
  font-size: 15px;
}

.question-options {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 10px;
}

.option {
  padding: 8px 15px;
  background: var(--secondary-button-bg);
  border: 1px solid var(--border-color);
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.3s;
  font-size: 14px;
}

.option:hover {
  background: var(--secondary-button-hover);
}

.option.selected {
  background: var(--primary-blue);
  color: white;
  border-color: var(--primary-blue);
}

.option.multiple-selected {
  background: var(--success-green);
  color: white;
  border-color: var(--success-green);
}

.question-input {
  width: 100%;
  padding: 10px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  background: var(--card-bg);
  color: var(--text-color);
  margin-top: 5px;
}

.question-input:focus {
  border-color: var(--primary-blue);
  outline: none;
}

.range-container {
  margin-top: 10px;
}

.range-value {
  text-align: center;
  font-weight: bold;
  color: var(--primary-blue);
  margin-top: 5px;
  display: block;
}

.questions-controls {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
  padding-top: 15px;
  border-top: 1px solid var(--border-color);
}

/* CSS Ù„Ù„Ù€ Radio Group (Ø¬Ø¯ÙŠØ¯) */
.radio-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 10px;
}

.radio-group label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 14px;
}

.radio-group input[type="radio"] {
  width: auto;
  margin: 0;
}

.checkbox-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 10px;
}

.checkbox-group label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 14px;
}

.checkbox-group input[type="checkbox"] {
  width: auto;
  margin: 0;
}

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§Ø±Ùƒ */
[data-theme="dark"] .symptom-description {
  background: rgba(30, 136, 229, 0.2);
}

[data-theme="dark"] .option {
  background: var(--secondary-button-bg);
}

[data-theme="dark"] .question-input,
[data-theme="dark"] .question-input:focus {
  background: var(--card-bg);
  color: var(--text-color);
  border-color: var(--border-color);
}

/* Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ÙˆØ³ÙˆØ¹Ø© */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  backdrop-filter: blur(5px);
}

.modal-content {
  background-color: var(--card-bg);
  margin: 5% auto;
  padding: 0;
  border-radius: var(--border-radius);
  width: 90%;
  max-width: 800px;
  max-height: 80vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  box-shadow: var(--shadow);
  animation: modalSlideIn 0.3s ease;
}

@keyframes modalSlideIn {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

.modal-header {
  padding: 20px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(var(--primary-blue), 0.05);
}

.modal-header h3 {
  margin: 0;
  color: var(--primary-blue);
  display: flex;
  align-items: center;
  gap: 8px;
}

.close {
  color: var(--secondary-text);
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
  transition: color 0.3s;
}

.close:hover {
  color: var(--primary-blue);
}

.modal-body {
  padding: 20px;
  overflow-y: auto;
  flex: 1;
}

.search-container {
  margin-bottom: 15px;
}

.search-container input {
  width: 100%;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  background: var(--card-bg);
  color: var(--text-color);
  font-size: 14px;
}

.search-container input:focus {
  border-color: var(--primary-blue);
  outline: none;
}

.symptoms-list {
  display: grid;
  gap: 10px;
  margin-top: 15px;
}

.symptom-item {
  padding: 15px;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: all 0.3s;
}

.symptom-item:hover {
  border-color: var(--primary-blue);
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}

.symptom-item h4 {
  margin: 0 0 5px 0;
  color: var(--primary-blue);
}

.symptom-item p {
  margin: 0;
  color: var(--secondary-text);
  font-size: 14px;
}

/* Ø§Ù„Ù‡ÙŠØ¯Ø± */
header {
  background: var(--primary-blue);
  color: #fff;
  padding: 15px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: background-color 0.3s;
  box-shadow: 0 2px 8px var(--shadow-light);
}

header .logo {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

header h1 {
  font-size: 24px;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 8px;
  color: #fff;
}

header small {
  font-size: 13px;
  color: #e3f2fd;
  margin-top: 2px;
}

/* Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ */
#back-btn {
  font-size: 26px;
  background: var(--secondary-button-bg);
  border: none;
  color: var(--text-color);
  cursor: pointer;
  border-radius: var(--border-radius);
  padding: 10px;
  transition: background 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: inherit;
  font-weight: bold;
}

#back-btn:hover { 
  background: var(--secondary-button-hover);
}

/* Ø§Ù„ÙÙˆØªØ± */
footer {
  text-align: center;
  padding: 15px;
  background: var(--primary-blue);
  color: #fff;
  font-size: 14px;
  transition: background-color 0.3s;
  margin-top: auto;
}

main {
  flex: 1;
  padding: 20px;
  max-width: 1000px;
  margin: 0 auto;
  box-sizing: border-box;
}

.wrap {
  max-width: 1000px;
  margin: 0 auto;
  padding: 16px;
}

/* Header-card */
.header-card {
  background: var(--card-bg);
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  padding: 20px;
  margin-bottom: 20px;
  transition: background 0.3s ease;
  text-align: center;
}

.step-card {
  background: var(--card-bg);
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  padding: 20px;
  margin-bottom: 20px;
  transition: background 0.3s ease, opacity 0.3s ease, transform 0.3s ease;
  display: none;
}

.step-card.active {
  display: block;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

h1 {
  margin: 0 0 10px;
  font-size: 24px;
  color: var(--primary-blue);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

h2 {
  margin: 0 0 15px;
  font-size: 18px;
  color: var(--text-color);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  border-bottom: 2px solid var(--border-color);
  padding-bottom: 8px;
}

h3 { margin: 15px 0 10px; font-size: 16px; color: var(--primary-blue); }

h2 i, h3 i { color: var(--icon-color); }

.grid {
  display: grid;
  gap: 12px;
}

.cols-2 { grid-template-columns: 1fr 1fr; }
.cols-3 { grid-template-columns: 1fr 1fr 1fr; }

label {
  display: block;
  font-size: 14px;
  margin-bottom: 5px;
  color: var(--text-color);
  font-weight: 500;
}

input, select, textarea {
  width: 100%;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid var(--border-color);
  font-size: 14px;
  box-sizing: border-box;
  background: var(--card-bg) !important;
  color: var(--text-color) !important;
  transition: border-color 0.3s ease;
}

input::placeholder, textarea::placeholder {
  color: var(--secondary-text) !important;
}

input:focus, select:focus, textarea:focus {
  border-color: var(--primary-blue);
  outline: none;
}

textarea { min-height: 80px; resize: vertical; }

input[readonly] {
  background: var(--secondary-button-bg) !important;
  cursor: not-allowed;
}

.conditional { 
  display: none; 
  margin-top: 10px; 
  padding: 10px; 
  border: 1px dashed var(--border-color); 
  border-radius: 6px; 
  background: rgba(0,0,0,0.02);
}

.conditional.show { display: block; }

[data-theme="dark"] .conditional { 
  background: rgba(255,255,255,0.05);
}

.btn {
  padding: 10px 16px;
  background: var(--button-bg);
  color: #fff;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.3s ease;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  margin: 5px;
}

.btn:hover { background: var(--button-hover); }

.btn-secondary { background: var(--secondary-button-bg); color: var(--text-color); }

.btn-secondary:hover { background: var(--secondary-button-hover); }

.btn-wizard {
  margin: 20px 5px 0;
  padding: 12px 24px;
  font-size: 16px;
  width: auto;
}

.wizard-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 20px;
  border-top: 1px solid var(--border-color);
  padding-top: 15px;
}

.list-section {
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  padding: 15px;
  margin: 10px 0;
  background: rgba(0,0,0,0.02);
}

.list-item {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.02);
  border-radius: 6px;
}

.list-item input, .list-item select, .list-item textarea { flex: 1; }

[data-theme="dark"] .list-item, [data-theme="dark"] .list-section { 
  background: rgba(255,255,255,0.05); 
}

.remove-btn {
  background: #ef4444;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 30px;
  height: 30px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.3s;
}

.remove-btn:hover { background: #dc2626; }

.add-btn { margin-top: 10px; }

/* Ø§Ù„Ù†Øµ Ø§Ù„Ù…ØªØ­Ø±Ùƒ ÙÙŠ Header-card */
.animated-phrase {
  text-align: center;
  font-size: 16px;
  font-weight: 500;
  color: var(--animated-text-color);
  margin: 15px 0;
  padding: 10px 20px;
  border-radius: 25px;
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.1), rgba(96, 165, 250, 0.05));
  min-height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
}

[data-theme="dark"] .animated-phrase { 
  background: linear-gradient(135deg, rgba(165, 180, 252, 0.1), rgba(165, 180, 252, 0.05)); 
}

.animated-phrase.show {
  opacity: 1;
  animation: fadeGlow 3s ease-in-out infinite;
}

@keyframes fadeGlow {
  0%, 100% { opacity: 0.6; transform: scale(1); text-shadow: 0 0 5px rgba(96, 165, 250, 0.3); }
  50% { opacity: 1; transform: scale(1.02); text-shadow: 0 0 20px rgba(96, 165, 250, 0.6); }
}

/* Progress Bar */
.progress-bar {
  margin: 20px 0;
  background: var(--border-color);
  height: 8px;
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: var(--primary-blue);
  width: 0%;
  transition: width 0.3s ease;
}

/* Results Section */
#resultsSection {
  background: var(--card-bg);
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  padding: 20px;
  margin: 20px 0;
  display: none;
}

#resultsSection h2 {
  text-align: center;
  color: var(--primary-blue);
  margin-bottom: 15px;
}

#resultsTable {
  position: relative;
  z-index: 1;
  background: var(--card-bg);
  border-radius: var(--border-radius);
  padding: 10px;
  box-shadow: var(--shadow);
  border: 1px solid var(--border-color);
  margin-top: 15px;
}

/* Animation Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª (Ø¬Ø¯ÙŠØ¯) */
@keyframes slideIn {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

/* Responsive */
@media (max-width: 768px) {
  header { padding: 10px 15px; }
  header h1 { font-size: 20px; }
  #back-btn { font-size: 18px; padding: 8px; }
  main { padding: 10px; }
  .wrap { padding: 10px; margin: 0; }
  .cols-2, .cols-3 { grid-template-columns: 1fr; }
  .list-item { flex-direction: column; gap: 5px; }
  .animated-phrase { font-size: 14px; padding: 8px 15px; }
  .checkbox-group, .radio-group { flex-direction: column; align-items: flex-start; }
  .wizard-controls { flex-direction: column; gap: 10px; }
  .btn-wizard { width: 100%; justify-content: center; }
  footer { padding: 10px; font-size: 12px; }
  .modal-content { width: 95%; margin: 10% auto; }
  .questions-controls { flex-direction: column; gap: 10px; text-align: center; }
}

/* Dark Mode ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
[data-theme="dark"] .header-card,
[data-theme="dark"] .step-card,
[data-theme="dark"] .info-boxes div,
[data-theme="dark"] .card {
  background: var(--card-bg);
}

[data-theme="dark"] input,
[data-theme="dark"] select,
[data-theme="dark"] textarea {
  background: var(--card-bg) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder {
  color: var(--secondary-text) !important;
}

[data-theme="dark"] input::-webkit-input-placeholder,
[data-theme="dark"] textarea::-webkit-input-placeholder {
  color: var(--secondary-text) !important;
}

[data-theme="dark"] input:-ms-input-placeholder,
[data-theme="dark"] textarea:-ms-input-placeholder {
  color: var(--secondary-text) !important;
}

[data-theme="dark"] input[readonly],
[data-theme="dark"] input[readonly="readonly"] {
  background: var(--card-bg) !important;
  color: var(--text-color) !important;
}

[data-theme="dark"] #back-btn {
  background: var(--secondary-button-bg);
  color: var(--text-color);
}

[data-theme="dark"] #back-btn:hover {
  background: var(--secondary-button-hover);
}

[data-theme="dark"] .btn-secondary { color: var(--text-color); }

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø¬Ø¯ÙˆÙ„ ÙÙŠ step9 Ù„ØªØ¬Ù†Ø¨ ØªØ®Ø±ÙŠØ¨ Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„ÙÙˆØªØ± */
#resultsTable {
  position: relative;
  z-index: 1;
  background: var(--card-bg);
  border-radius: var(--border-radius);
  padding: 10px;
  box-shadow: var(--shadow);
  border: 1px solid var(--border-color);
  margin-top: 15px;
}

#resultsTable table {
  width: 100%;
  border-collapse: collapse;
  direction: rtl;
  font-family: 'Tajawal', sans-serif;
}

#resultsTable table thead {
  position: sticky;
  top: 0;
  z-index: 10;
  background: var(--primary-blue);
}

#resultsTable table thead th {
  border: 1px solid var(--border-color);
  padding: 12px;
  text-align: right;
  color: white;
}

#resultsTable table tbody tr {
  background: var(--bg-color);
}

#resultsTable table tbody td {
  border: 1px solid var(--border-color);
  padding: 10px;
  vertical-align: top;
}

#resultsTable table tbody tr:nth-child(even) {
  background: var(--card-bg);
}

[data-theme="dark"] #resultsTable table {
  background: var(--card-bg);
}

[data-theme="dark"] #resultsTable table tbody tr {
  background: var(--card-bg);
}

[data-theme="dark"] #resultsTable table tbody tr:nth-child(even) {
  background: var(--bg-color);
}

#summaryContent {
  max-height: 60vh;
  overflow-y: auto;
  scrollbar-width: thin;
}

#summaryContent::-webkit-scrollbar {
  width: 6px;
}

#summaryContent::-webkit-scrollbar-track {
  background: var(--border-color);
  border-radius: 3px;
}

#summaryContent::-webkit-scrollbar-thumb {
  background: var(--primary-blue);
  border-radius: 3px;
}

[data-theme="dark"] #summaryContent::-webkit-scrollbar-track {
  background: var(--border-color);
}

#resultsTable::-webkit-scrollbar {
  width: 8px;
}

#resultsTable::-webkit-scrollbar-track {
  background: var(--border-color);
  border-radius: 4px;
}

#resultsTable::-webkit-scrollbar-thumb {
  background: var(--primary-blue);
  border-radius: 4px;
}
  
/* ===== Mobile cards replacement for the diagnoses table ===== */
.diagnosis-cards {
  display: grid;
  gap: 12px;
}
.diagnosis-card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  padding: 12px;
  border-radius: 10px;
  box-shadow: var(--shadow);
  direction: rtl;
}
.diagnosis-card .card-title {
  font-size: 16px;
  color: var(--primary-blue);
  margin: 0 0 8px;
}
.diagnosis-card .card-row {
  margin-top: 8px;
  font-size: 14px;
  color: var(--text-color);
}

/* On small screens hide old <table> inside #resultsTable to avoid duplicate visuals */
@media (max-width: 768px) {
  #resultsTable table { display: none; }
}

</style>
</head>
<body data-theme="light">
<!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
<header>
<div class="logo">
<h1><i class="fas fa-stethoscope"></i> Ø·Ø¨ÙŠØ¨ÙŠ</h1>
<small>Ø£ÙˆÙ„ ØªØ·Ø¨ÙŠÙ‚ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø·Ø¨ÙŠ ÙÙŠ Ø³ÙˆØ±ÙŠØ§</small>
</div>
<button aria-label="Ø±Ø¬ÙˆØ¹" id="back-btn">
<i class="fas fa-arrow-left"></i>
</button>
</header>
<main>
<div class="wrap">
<!-- Header-card -->
<div class="header-card">
<h1><i class="fas fa-user-md"></i> Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø³Ø±ÙŠØ±ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© (Ø¨Ø§Ø·Ù†ÙŠØ©/Ø¬Ø±Ø§Ø­Ø©)</h1>
<div class="animated-phrase" id="animatedPhrase">
<!-- Ø§Ù„Ù†Øµ Ø§Ù„Ù…ØªØ­Ø±Ùƒ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ø¨Ø§Ù„Ù€ JS -->
</div>
</div>
<!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>
<!-- Ø§Ù„Ø®Ø·ÙˆØ§Øª -->
<!-- Step 1: Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
<div class="step-card active" id="step1">
<h2><i class="fas fa-user"></i> 1. Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ù„Ù„Ù…Ø±ÙŠØ¶</h2>
<div class="grid cols-2">
<div>
<label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
<input id="fullName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" type="text"/>
</div>
<div>
<label>Ø§Ù„Ø¬Ù†Ø³ *</label>
<select id="gender" required="">
<option value="">Ø§Ø®ØªØ±</option>
<option value="Ø°ÙƒØ±">Ø°ÙƒØ±</option>
<option value="Ø£Ù†Ø«Ù‰">Ø£Ù†Ø«Ù‰</option>
</select>
</div>
</div>
<div class="grid cols-2">
<div>
<label>Ø§Ù„Ø¹Ù…Ø± *</label>
<input id="age" min="0" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ù…Ø±" required="" type="number"/>
</div>
<div>
<label>Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</label>
<select id="maritalStatus" onchange="toggleChildren()">
<option value="">Ø§Ø®ØªØ±</option>
<option value="Ù…ØªØ²ÙˆØ¬">Ù…ØªØ²ÙˆØ¬</option>
<option value="Ø£Ø¹Ø²Ø¨">Ø£Ø¹Ø²Ø¨</option>
<option value="Ù…Ø·Ù„Ù‚">Ù…Ø·Ù„Ù‚</option>
<option value="Ø£Ø±Ù…Ù„">Ø£Ø±Ù…Ù„</option>
</select>
</div>
</div>
<div class="grid cols-2">
<div id="childrenField" style="display:none;">
<label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆÙ„Ø§Ø¯</label>
<input id="childrenCount" min="0" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ø¯Ø¯" type="number"/>
</div>
<div>
<label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø³ÙƒÙ†</label>
<textarea id="address" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø³ÙƒÙ†"></textarea>
</div>
</div>
<div>
<label>Ø§Ù„Ù…Ù‡Ù†Ø©</label>
<input id="occupation" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ù‡Ù†Ø©" type="text"/>
</div>
</div>
<!-- Step 2: Ø§Ù„Ø´ÙƒØ§ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div class="step-card" id="step2">
<h2><i class="fas fa-exclamation-triangle"></i> 2. Ø§Ù„Ø´ÙƒØ§ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙˆØªÙØµÙŠÙ„Ù‡Ø§</h2>
<div class="list-section" id="complaintsList"></div>
<button class="btn add-btn" onclick="openSymptomsLibrary()">
<i class="fas fa-book-medical"></i> Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ù…Ù† Ø§Ù„Ù…ÙˆØ³ÙˆØ¹Ø©
        </button>
</div>
<!-- Step 3: Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ù…Ø±Ø¶ÙŠØ© ÙˆØ§Ù„Ø¬Ø±Ø§Ø­ÙŠØ© -->
<div class="step-card" id="step3">
<h2><i class="fas fa-history"></i> 3. Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ù…Ø±Ø¶ÙŠØ© ÙˆØ§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©</h2>
<h3>Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ù…Ø±Ø¶ÙŠØ©</h3>
<div class="list-section" id="medicalHistoryList"></div>
<button class="btn add-btn" onclick="addMedicalHistory()"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ø¨Ù‚Ø© Ù…Ø±Ø¶ÙŠØ©</button>
<h3>Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©</h3>
<div class="list-section" id="surgicalHistoryList"></div>
<button class="btn add-btn" onclick="addSurgicalHistory()"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ø¨Ù‚Ø© Ø¬Ø±Ø§Ø­ÙŠØ©</button>
</div>
<!-- Step 4: Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¯ÙˆØ§Ø¦ÙŠØ© ÙˆØ§Ù„ØªØ­Ø³Ø³ÙŠØ© -->
<div class="step-card" id="step4">
<h2><i class="fas fa-pills"></i> 4. Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¯ÙˆØ§Ø¦ÙŠØ© ÙˆØ§Ù„ØªØ­Ø³Ø³ÙŠØ©</h2>
<h3>Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¯ÙˆØ§Ø¦ÙŠØ©</h3>
<div class="list-section" id="drugHistoryList"></div>
<button class="btn add-btn" onclick="addDrugHistory()"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ø¨Ù‚Ø© Ø¯ÙˆØ§Ø¦ÙŠØ©</button>
<h3>Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„ØªØ­Ø³Ø³ÙŠØ©</h3>
<div class="list-section" id="allergyHistoryList"></div>
<button class="btn add-btn" onclick="addAllergyHistory()"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© ØªØ­Ø³Ø³</button>
</div>
<!-- Step 5: Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ© ÙˆØ§Ù„Ø¹Ø§Ø¯Ø§Øª -->
<div class="step-card" id="step5">
<h2><i class="fas fa-users"></i> 5. Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ© ÙˆØ§Ù„Ø¹Ø§Ø¯Ø§Øª ÙˆØ§Ù„ØºØ±Ø§Ø¦Ø²</h2>
<h3>Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©</h3>
<div class="list-section" id="familyHistoryList"></div>
<button class="btn add-btn" onclick="addFamilyHistory()"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø³Ø§Ø¨Ù‚Ø© Ø¹Ø§Ø¦Ù„ÙŠØ©</button>
<h3>Ø§Ù„Ø¹Ø§Ø¯Ø§Øª ÙˆØ§Ù„ØºØ±Ø§Ø¦Ø²</h3>
<div class="grid cols-3">
<div>
<label>Ø§Ù„ØªØ¯Ø®ÙŠÙ†</label>
<select id="smoking" onchange="toggleHabitDetails('smokingDetails')">
<option value="">Ø§Ø®ØªØ±</option>
<option value="Ù„Ø§">Ù„Ø§</option>
<option value="Ø³Ø§Ø¨Ù‚">Ø³Ø§Ø¨Ù‚</option>
<option value="Ø­Ø§Ù„ÙŠ">Ø­Ø§Ù„ÙŠ</option>
</select>
<div class="conditional" id="smokingDetails">
<label>Ø§Ù„Ù…Ø¯Ø© ÙˆØ§Ù„ÙƒÙ…ÙŠØ©</label>
<input id="smokingQuantity" placeholder="Ù…Ø«Ø§Ù„: 10 Ø³Ø¬Ø§Ø¦Ø±/ÙŠÙˆÙ… Ù„Ù€5 Ø³Ù†ÙˆØ§Øª" type="text"/>
</div>
</div>
<div>
<label>Ø§Ù„ÙƒØ­ÙˆÙ„</label>
<select id="alcohol" onchange="toggleHabitDetails('alcoholDetails')">
<option value="">Ø§Ø®ØªØ±</option>
<option value="Ù„Ø§">Ù„Ø§</option>
<option value="Ø³Ø§Ø¨Ù‚">Ø³Ø§Ø¨Ù‚</option>
<option value="Ø­Ø§Ù„ÙŠ">Ø­Ø§Ù„ÙŠ</option>
</select>
<div class="conditional" id="alcoholDetails">
<label>Ø§Ù„Ù…Ø¯Ø© ÙˆØ§Ù„ÙƒÙ…ÙŠØ©</label>
<input id="alcoholQuantity" placeholder="Ù…Ø«Ø§Ù„: ÙƒØ£Ø³/Ø£Ø³Ø¨ÙˆØ¹ Ù„Ù€3 Ø³Ù†ÙˆØ§Øª" type="text"/>
</div>
</div>
<div>
<label>Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª</label>
<select id="drugs" onchange="toggleHabitDetails('drugsDetails')">
<option value="">Ø§Ø®ØªØ±</option>
<option value="Ù„Ø§">Ù„Ø§</option>
<option value="Ø³Ø§Ø¨Ù‚">Ø³Ø§Ø¨Ù‚</option>
<option value="Ø­Ø§Ù„ÙŠ">Ø­Ø§Ù„ÙŠ</option>
</select>
<div class="conditional" id="drugsDetails">
<label>Ø§Ù„Ù…Ø¯Ø© ÙˆØ§Ù„ÙƒÙ…ÙŠØ©</label>
<input id="drugsQuantity" placeholder="Ù…Ø«Ø§Ù„: Ù†ÙˆØ¹ØŒ ÙƒÙ…ÙŠØ©ØŒ Ù…Ø¯Ø©" type="text"/>
</div>
</div>
</div>
</div>
<!-- Step 6: Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø·Ø¨ÙŠØ© -->
<div class="step-card" id="step6">
<h2><i class="fas fa-file-medical"></i> 6. Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø·Ø¨ÙŠØ©</h2>
<div class="list-section" id="reportsList"></div>
<button class="btn add-btn" onclick="addReport()"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© ØªÙ‚Ø±ÙŠØ±</button>
</div>
<!-- Step 7: Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ© -->
<div class="step-card" id="step7">
<h2><i class="fas fa-heartbeat"></i> 7. Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©</h2>
<div class="grid cols-2">
<div>
<label>Ù‡Ù„ ØªØ±ØºØ¨ Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©ØŸ *</label>
<select id="vitalsOptIn" onchange="toggleVitalsSection()" required="">
<option value="">Ø§Ø®ØªØ±</option>
<option value="Ù†Ø¹Ù…">Ù†Ø¹Ù…</option>
<option value="Ù„Ø§">Ù„Ø§</option>
</select>
</div>
</div>
<div class="conditional" id="vitalsSection" style="display:none; margin-top: 20px;">
<div class="grid cols-2">
<div>
<label>Ø§Ù„Ø¶ØºØ· Ø§Ù„Ø´Ø±ÙŠØ§Ù†ÙŠ (Ù…Ø«Ø§Ù„: 120/80)</label>
<input id="bloodPressure" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ…Ø©" type="text"/>
</div>
<div>
<label>Ø§Ù„Ù†Ø¨Ø¶ (Ø¨Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©)</label>
<input id="pulse" min="0" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ø¨Ø¶" type="number"/>
</div>
</div>
<div class="grid cols-2">
<div>
<label>Ø§Ù„Ø­Ø±Ø§Ø±Ø© (Ø¯Ø±Ø¬Ø© Ù…Ø¦ÙˆÙŠØ©)</label>
<input id="temperature" min="0" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø­Ø±Ø§Ø±Ø©" step="0.1" type="number"/>
</div>
<div>
<label>Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙ†ÙØ³ (Ø¨Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©)</label>
<input id="respiratoryRate" min="0" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ØªÙ†ÙØ³" type="number"/>
</div>
</div>
<div class="grid cols-2">
<div>
<label>Ø§Ù„ÙˆØ²Ù† (ÙƒØº)</label>
<input id="weight" min="0" oninput="calculateBMI()" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙˆØ²Ù†" type="number"/>
</div>
<div>
<label>Ø§Ù„Ø·ÙˆÙ„ (Ø³Ù…)</label>
<input id="height" min="0" oninput="calculateBMI()" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø·ÙˆÙ„" type="number"/>
</div>
</div>
<div>
<label>Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù… (BMI)</label>
<input id="bmi" placeholder="Ø³ÙŠØªÙ… Ø§Ù„Ø­Ø³Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§" readonly="" type="number"/>
</div>
</div>
</div>
<!-- Step 8: Ù…Ù„Ø®Øµ Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø³Ø±ÙŠØ±ÙŠØ© (Ø¬Ø¯ÙŠØ¯) -->
<div class="step-card" id="step8">
<h2><i class="fas fa-file-alt"></i> 8. Ù…Ù„Ø®Øµ Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø³Ø±ÙŠØ±ÙŠØ©</h2>
<div id="summaryContent" style="padding: 20px; background: var(--card-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color); margin-bottom: 20px; direction: rtl; font-size: 16px; line-height: 1.6;">
<!-- Ø§Ù„Ù…Ù„Ø®Øµ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JS -->
<p>Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙØ§ØµÙŠÙ„. ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ù„Ø®Øµ Ø£Ø¯Ù†Ø§Ù‡:</p>
<div id="generatedSummary"></div>
</div>
</div>
<!-- Step 9: Ù‚Ø³Ù… Ø§Ù„ØªØ´Ø®ÙŠØµØ§Øª (Ø¬Ø¯ÙŠØ¯ØŒ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙˆÙ„) -->
<div class="step-card" id="step9">
<h2><i class="fas fa-table"></i> 9. Ø§Ù„ØªØ´Ø®ÙŠØµØ§Øª Ø§Ù„ØªÙØ±ÙŠÙ‚ÙŠØ©</h2>
<div id="resultsTable" style="
      margin: 15px 0;
      position: relative;
      z-index: 1;
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: 10px;
      background: var(--card-bg);
    ">
<!-- Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JS -->
</div>
<!-- <div style="text-align: center; margin-top: 20px;">
          <button class="btn" onclick="resetForm()" style="font-size: 18px; padding: 15px 30px;">
            <i class="fas fa-plus"></i> Ø¨Ø¯Ø¡ Ù‚ØµØ© Ø³Ø±ÙŠØ±ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©
          </button>
        </div> -->
</div>
<!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ -->
<div class="wizard-controls" id="wizardControls">
<button class="btn btn-secondary btn-wizard" id="prevBtn" onclick="prevStep()" style="display: none;">
<i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
        </button>
<button class="btn btn-wizard" id="nextBtn" onclick="nextStep()">
<i class="fas fa-arrow-left"></i> Ø§Ù„ØªØ§Ù„ÙŠ
        </button>
</div>
<!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø®Ø·ÙˆØ© 8 (Ù…Ù„Ø®Øµ) -->
<div class="wizard-controls" id="summaryControls" style="display: none;">
<button class="btn btn-secondary btn-wizard" onclick="prevStep()">
<i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
        </button>
<button class="btn btn-wizard" id="sendBtn" onclick="sendFormToAI()">
<i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù‚ØµØ© Ù„Ù„ØªØ´Ø®ÙŠØµ
        </button>
</div>
<!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø®Ø·ÙˆØ© 9 (ØªØ´Ø®ÙŠØµØ§Øª) -->
<div class="wizard-controls" id="diagnosisControls" style="display: none;">
<button class="btn btn-secondary btn-wizard" onclick="prevStep()">
<i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
        </button>
<button class="btn btn-wizard" onclick="resetForm()">
<i class="fas fa-plus"></i> Ø¨Ø¯Ø¡ Ù‚ØµØ© Ø³Ø±ÙŠØ±ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©
        </button>
</div>
<!-- Ù‚Ø³Ù… Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (ØªÙ… Ù†Ù‚Ù„Ù‡ Ø¥Ù„Ù‰ step9) -->
<div id="resultsSection" style="display: none;"></div>
</div>
</main>
<!-- Ø§Ù„ÙÙˆØªØ± -->
<footer>Â© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ Kasp-ai</footer>
<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ÙˆØ³ÙˆØ¹Ø© -->
<div class="modal" id="symptomsModal">
<div class="modal-content">
<div class="modal-header">
<h3><i class="fas fa-book-medical"></i> Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶</h3>
<span class="close" onclick="closeSymptomsModal()">Ã—</span>
</div>
<div class="modal-body">
<div class="search-container">
<input id="symptomSearch" onkeyup="filterSymptoms()" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¹Ø±Ø¶..." type="text"/>
</div>
<p>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶: <span id="symptomsCount">0</span></p>
<div class="symptoms-list" id="symptomsList">
<!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ù‡Ù†Ø§ -->
</div>
</div>
</div>
</div>
<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© -->
<div class="modal" id="questionsModal">
<div class="modal-content">
<div class="modal-header">
<h3><i class="fas fa-question-circle"></i> Ø£Ø³Ø¦Ù„Ø© ØªØ´Ø®ÙŠØµÙŠØ©: <span id="symptomTitle">Ø§Ù„Ø¹Ø±Ø¶</span></h3>
<span class="close" onclick="closeQuestionsModal()">Ã—</span>
</div>
<div class="modal-body">
<div class="symptom-description" id="symptomDescription"></div>
<div class="questions-container" id="questionsContainer">
<!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù‡Ù†Ø§ -->
</div>
<div class="questions-controls">
<button class="btn btn-secondary" onclick="closeQuestionsModal()">
<i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
          </button>
<button class="btn" onclick="addSymptomWithAnswers()">
<i class="fas fa-check"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø´ÙƒØ§ÙŠØ© Ù…Ø¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
          </button>
</div>
</div>
</div>
</div>
<script>
// Ù…Ø¹Ø§Ù„Ø¬ Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ ÙˆØªÙ‡ÙŠØ¦Ø© Puter

// ===== Puter per-browser user key (auto-generated, stored in localStorage) =====
let userKey = localStorage.getItem('userKey');
if (!userKey) {
  userKey = 'user_' + Math.random().toString(36).substring(2, 10) + '_' + Date.now();
  localStorage.setItem('userKey', userKey);
}
console.log('ğŸ”‘ Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­ (userKey):', userKey);
// ===========================================================================
document.addEventListener('DOMContentLoaded', async () => {
  const backBtn = document.getElementById('back-btn');
  if (backBtn) {
    backBtn.addEventListener('click', () => {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        window.location.href = 'story.html';
      }
    });
  }

  // Ø§Ù†ØªØ¸Ø§Ø± ØªØ­Ù…ÙŠÙ„ Puter.js Ø§Ù„ÙƒØ§Ù…Ù„
  await new Promise(resolve => setTimeout(resolve, 1000));

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø³Ø§Ø¨Ù‚
  loadPreviousDiagnoses();

  // ØªÙ‡ÙŠØ¦Ø©
  updateProgress();
  showStep(1);

  // ØªØ­Ù‚Ù‚ Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„Ø²Ø±
  await checkForSavedDataAndAddButton();
  console.log('ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Puter KV');
});

// Ø§Ù„Ù†Øµ Ø§Ù„Ù…ØªØ­Ø±Ùƒ
const phrases = [
  "<i class='fas fa-user-md'></i> ØªØ´Ø®ÙŠØµ Ø¯Ù‚ÙŠÙ‚ Ù„Ù„Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© ÙˆØ§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©",
  "<i class='fas fa-heartbeat'></i> ØªØªØ¨Ø¹ Ø´Ø§Ù…Ù„ Ù„Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©",
  "<i class='fas fa-stethoscope'></i> Ù‚ØµØ© Ø³Ø±ÙŠØ±ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©",
  "<i class='fas fa-shield-alt'></i> Ø­Ù…Ø§ÙŠØ© ØµØ­ØªÙƒ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©"
];
let phraseIndex = 0;
const animatedPhrase = document.getElementById("animatedPhrase");
function showPhrase() {
  animatedPhrase.classList.remove("show");
  setTimeout(() => {
    animatedPhrase.innerHTML = phrases[phraseIndex];
    animatedPhrase.classList.add("show");
    phraseIndex = (phraseIndex + 1) % phrases.length;
  }, 500);
}
setInterval(showPhrase, 4000);
showPhrase();

// Wizard Logic
const totalSteps = 9;
let currentStep = 1;
let analysisCompleted = false;

function updateProgress() {
  const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
  document.getElementById('progressFill').style.width = progress + '%';
}

function showStep(step) {
  for (let i = 1; i <= totalSteps; i++) {
    const stepEl = document.getElementById(`step${i}`);
    if (stepEl) stepEl.classList.remove('active');
  }
  const targetStep = document.getElementById(`step${step}`);
  if (targetStep) targetStep.classList.add('active');

  currentStep = step;

  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const wizardControls = document.getElementById('wizardControls');
  const summaryControls = document.getElementById('summaryControls');
  const diagnosisControls = document.getElementById('diagnosisControls');

  wizardControls.style.display = 'none';
  summaryControls.style.display = 'none';
  diagnosisControls.style.display = 'none';

  if (step === 1) {
    prevBtn.style.display = 'none';
    wizardControls.style.display = 'flex';
    nextBtn.innerHTML = '<i class="fas fa-arrow-left"></i> Ø§Ù„ØªØ§Ù„ÙŠ';
    nextBtn.onclick = nextStep;
    checkForSavedDataAndAddButton();
  } else if (step === 7) {
    prevBtn.style.display = 'inline-flex';
    wizardControls.style.display = 'flex';
    nextBtn.innerHTML = '<i class="fas fa-arrow-left"></i> Ø§Ù„ØªØ§Ù„ÙŠ';
    nextBtn.onclick = nextStep;
  } else if (step === 8) {
    prevBtn.style.display = 'inline-flex';
    summaryControls.style.display = 'flex';
  } else if (step === 9) {
    prevBtn.style.display = 'none';
    diagnosisControls.style.display = 'flex';
  } else {
    prevBtn.style.display = 'inline-flex';
    wizardControls.style.display = 'flex';
    nextBtn.innerHTML = '<i class="fas fa-arrow-left"></i> Ø§Ù„ØªØ§Ù„ÙŠ';
    nextBtn.onclick = nextStep;
  }

  if (step === 8) generateSummary();
  updateProgress();
}

function validateCurrentStep() {
  if (currentStep === 1) {
    if (!document.getElementById('gender').value.trim() || !document.getElementById('age').value.trim()) {
      alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø¬Ù†Ø³ ÙˆØ§Ù„Ø¹Ù…Ø±.');
      return false;
    }
  }
  if (currentStep === 7) {
    if (!document.getElementById('vitalsOptIn').value.trim()) {
      alert('ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ù…Ø§ Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ØºØ¨ Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©.');
      return false;
    }
  }
  return true;
}

function nextStep() {
  if (validateCurrentStep() && currentStep < 8) showStep(currentStep + 1);
}

function prevStep() {
  if (currentStep > 1) showStep(currentStep - 1);
}

// ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ø²Ø±
async function checkForSavedDataAndAddButton() {
  console.log('Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Puter KV...');
  if (typeof puter === 'undefined' || !puter.kv) {
    console.warn('Puter.js ØºÙŠØ± Ù…ØªØ§Ø­Ø©');
    return;
  }
  try {
    const keys = await puter.kv.list();
    console.log('Ø§Ù„ÙƒÙŠØ² Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©:', keys);
    const hasDiagnoses = keys.some(key => key.startsWith(`${userKey}_diagnosis_`));
    console.log('Ù‡Ù„ ØªÙˆØ¬Ø¯ ØªØ´Ø®ÙŠØµØ§ØªØŸ', hasDiagnoses);
    const step1 = document.getElementById('step1');
    let historyBtn = document.getElementById('historyBtn');
    if (hasDiagnoses && !historyBtn) {
      historyBtn = document.createElement('button');
      historyBtn.id = 'historyBtn';
      historyBtn.className = 'btn btn-secondary add-btn';
      historyBtn.innerHTML = '<i class="fas fa-history"></i> Ø¹Ø±Ø¶ Ø§Ù„ØªØ´Ø®ÙŠØµØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©';
      historyBtn.onclick = openHistoryModal;
      step1.appendChild(historyBtn);
      console.log('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø²Ø±');
    } else if (!hasDiagnoses && historyBtn) {
      historyBtn.remove();
      console.log('ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø²Ø±');
    }
  } catch (error) {
    console.error('Ø®Ø·Ø£ ÙÙŠ list():', error);
    alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ' + error.message);
  }
}

// resetForm
async function resetForm() {
  if (analysisCompleted) {
    const currentStoryData = collectFullStoryData();
    const currentDiagnoses = collectCurrentDiagnoses();
    if (currentStoryData && currentDiagnoses && currentDiagnoses.length > 0) {
      const timestamp = new Date().toLocaleString('ar-SA');
      const key = `${userKey}_diagnosis_${Date.now()}`;

      const savedData = {
        date: timestamp,
        story: currentStoryData,
        summary: collectFormSummary(false),
        diagnoses: currentDiagnoses
      };

      try {
        await puter.kv.set(key, JSON.stringify(savedData));
        console.log('ØªÙ… Ø§Ù„Ø­ÙØ¸ØŒ Ø§Ù„ÙƒÙŠ:', key);
        alert('ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„ÙƒÙŠ: ' + key + '. Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ø²Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚.');
        await checkForSavedDataAndAddButton(); // ØªØ­Ù‚Ù‚ ÙÙˆØ±ÙŠ
      } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ set():', error);
        alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸: ' + error.message);
      }
    }
  }
  location.reload();
}

// Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©
function collectFullStoryData() {
  const data = collectFormData();
  const complaints = Array.from(document.querySelectorAll('#complaintsList .list-item input')).map(input => input.value).filter(v => v);
  const medical = [];
  const medicalInputs = document.querySelectorAll('#medicalHistoryList .list-item input');
  for (let i = 0; i < medicalInputs.length; i += 2) {
    medical.push({
      disease: medicalInputs[i]?.value || '',
      details: medicalInputs[i + 1]?.value || ''
    });
  }
  const surgical = [];
  const surgicalInputs = document.querySelectorAll('#surgicalHistoryList .list-item input');
  for (let i = 0; i < surgicalInputs.length; i += 2) {
    surgical.push({
      surgery: surgicalInputs[i]?.value || '',
      details: surgicalInputs[i + 1]?.value || ''
    });
  }
  const drug = [];
  const drugInputs = document.querySelectorAll('#drugHistoryList .list-item input');
  for (let i = 0; i < drugInputs.length; i += 2) {
    drug.push({
      medication: drugInputs[i]?.value || '',
      details: drugInputs[i + 1]?.value || ''
    });
  }
  const allergy = [];
  const allergyInputs = document.querySelectorAll('#allergyHistoryList .list-item input');
  for (let i = 0; i < allergyInputs.length; i += 2) {
    allergy.push({
      allergen: allergyInputs[i]?.value || '',
      details: allergyInputs[i + 1]?.value || ''
    });
  }
  const family = [];
  const familyInputs = document.querySelectorAll('#familyHistoryList .list-item input');
  const familySelects = document.querySelectorAll('#familyHistoryList .list-item select');
  for (let i = 0; i < familyInputs.length; i++) {
    family.push({
      disease: familyInputs[i]?.value || '',
      relation: familySelects[i]?.value || ''
    });
  }
  const reports = [];
  const reportsContainers = document.querySelectorAll('#reportsList .list-item');
  reportsContainers.forEach(container => {
    const inputs = container.querySelectorAll('input');
    const textarea = container.querySelector('textarea');
    reports.push({
      type: inputs[0]?.value || '',
      results: textarea?.value || '',
      date: inputs[2]?.value || inputs[1]?.value || ''  // ØªØ§Ø±ÙŠØ® ÙÙŠ input[2] Ø£Ùˆ [1]
    });
  });

  return { ...data, complaints, medicalHistory: medical, surgicalHistory: surgical, drugHistory: drug, allergyHistory: allergy, familyHistory: family, reports };
}

function collectCurrentDiagnoses() {
  // First try the table approach (desktop)
  const table = document.querySelector('#resultsTable table');
  if (table) {
    const rows = table.querySelectorAll('tbody tr');
    const diagnoses = [];
    rows.forEach(row => {
      const cells = row.querySelectorAll('td');
      if (cells.length >= 4) {
        diagnoses.push({
          diagnosis: cells[0].textContent.trim(),
          reasons: cells[1].textContent.trim(),
          recommendedTests: cells[2].textContent.trim(),
          probability: cells[3].textContent.trim()
        });
      }
    });
    return diagnoses;
  }

  // Fallback: cards (mobile)
  const cards = document.querySelectorAll('#resultsTable .diagnosis-card');
  if (!cards || cards.length === 0) return [];
  const diagnoses = [];
  cards.forEach(card => {
    const diag = {
      diagnosis: card.querySelector('.card-title')?.textContent.trim() || card.dataset.diagnosis || '',
      reasons: card.querySelector('.card-reasons')?.textContent.trim() || card.dataset.reasons || '',
      recommendedTests: card.querySelector('.card-tests')?.textContent.trim() || card.dataset.tests || '',
      probability: card.querySelector('.card-prob')?.textContent.trim() || card.dataset.probability || ''
    };
    diagnoses.push(diag);
  });
  return diagnoses;
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø³Ø§Ø¨Ù‚
async function loadPreviousDiagnoses() {
  if (typeof puter !== 'undefined' && puter.kv) {
    try {
      await puter.kv.list();
      console.log('Puter KV Ø¬Ø§Ù‡Ø²Ø©');
    } catch (error) {
      console.error('Ø®Ø·Ø£ ÙÙŠ KV:', error);
    }
  }
}

let historyModal = null;

// openHistoryModal (Ù…ÙØµØ­Ø­ Ù…Ø¹ for loop Ø¹Ø§Ø¯ÙŠ Ùˆlogs)
async function openHistoryModal() {
  console.log('ÙØªØ­ modal Ø§Ù„ØªØ§Ø±ÙŠØ®...'); // Ù„Ù„ØªØµØ­ÙŠØ­
  if (!historyModal) {
    historyModal = document.createElement('div');
    historyModal.className = 'modal';
    historyModal.id = 'historyModal';
    historyModal.innerHTML = `
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-history"></i> Ø§Ù„ØªØ´Ø®ÙŠØµØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h3>
          <span class="close" onclick="closeHistoryModal()">&times;</span>
        </div>
        <div class="modal-body">
          <div id="historyList"></div>
          <div class="questions-controls">
            <button class="btn btn-secondary" onclick="closeHistoryModal()">
              <i class="fas fa-times"></i> Ø¥ØºÙ„Ø§Ù‚
            </button>
          </div>
        </div>
      </div>
    `;
    document.body.appendChild(historyModal);
    console.log('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù€ modal');
  }

  const historyList = document.getElementById('historyList');
  historyList.innerHTML = '<p style="text-align: center;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>';
  historyModal.style.display = 'block'; // ØªØ£ÙƒÙŠØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ù€ modal

  try {
    console.log('Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙŠØ²...');
    if (typeof puter !== 'undefined' && puter.kv) {
      const keys = await puter.kv.list();
      console.log('ÙƒÙ„ Ø§Ù„ÙƒÙŠØ²:', keys);
      const diagnosisKeys = keys.filter(key => key.startsWith(`${userKey}_diagnosis_`)).sort().reverse();
      console.log('ÙƒÙŠØ² Ø§Ù„ØªØ´Ø®ÙŠØµØ§Øª:', diagnosisKeys);

      if (diagnosisKeys.length === 0) {
        historyList.innerHTML = '<p style="text-align: center;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ´Ø®ÙŠØµØ§Øª Ø³Ø§Ø¨Ù‚Ø© Ù…Ø­ÙÙˆØ¸Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</p>';
        console.log('Ù„Ø§ ÙƒÙŠØ² Ù…ÙˆØ¬ÙˆØ¯Ø©');
        return;
      }

      let html = '<ul style="list-style: none; padding: 0;">';
      for (let i = 0; i < diagnosisKeys.length; i++) { // for loop Ø¹Ø§Ø¯ÙŠ Ù„Ù€ async
        const key = diagnosisKeys[i];
        console.log('ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙŠ:', key);
        try {
          const savedJson = await puter.kv.get(key);
          console.log('Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ÙƒÙŠ ' + key + ':', savedJson);
          if (savedJson) {
            const savedData = JSON.parse(savedJson);
            html += `
              <li style="margin-bottom: 15px; padding: 15px; background: var(--card-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
                <h4>ØªØ§Ø±ÙŠØ®: ${savedData.date}</h4>
                <p><strong>Ù…Ù„Ø®Øµ Ø§Ù„Ù‚ØµØ©:</strong> ${savedData.summary ? savedData.summary.substring(0, 200) + '...' : 'ØºÙŠØ± Ù…ØªÙˆÙØ±'}</p>
                <button class="btn" onclick="showDiagnosisTable('${key}')"><i class="fas fa-table"></i> Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„</button>
                <button class="btn btn-secondary" onclick="loadAndFillForm('${key}')"><i class="fas fa-edit"></i> Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</button>
                <button class="btn btn-secondary" onclick="deleteDiagnosis('${key}')"><i class="fas fa-trash"></i> Ø­Ø°Ù</button>
              </li>
            `;
            console.log('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø³Ø¬Ù„ Ù„Ù„ÙƒÙŠ:', key);
          } else {
            console.log('Ù„Ø§ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ÙƒÙŠ:', key);
          }
        } catch (getError) {
          console.error('Ø®Ø·Ø£ ÙÙŠ get() Ù„Ù„ÙƒÙŠ ' + key + ':', getError);
          html += `<li>Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„: ${key}</li>`;
        }
      }
      html += '</ul>';
      historyList.innerHTML = html;
      console.log('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­');
    } else {
      historyList.innerHTML = '<p style="text-align: center;">Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Puter.js ØºÙŠØ± Ù…ØªØ§Ø­Ø©.</p>';
      console.warn('Puter ØºÙŠØ± Ù…ØªØ§Ø­Ø©');
    }
  } catch (error) {
    console.error('Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ openHistoryModal:', error);
    historyList.innerHTML = '<p style="text-align: center;">Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„: ' + error.message + '</p>';
  }
}

function closeHistoryModal() {
  if (historyModal) {
    historyModal.style.display = 'none';
    console.log('ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù€ modal');
  }
}

// showDiagnosisTable
async function showDiagnosisTable(key) {
  console.log('Ø¹Ø±Ø¶ Ø¬Ø¯ÙˆÙ„ Ù„Ù„ÙƒÙŠ:', key);
  try {
    if (typeof puter !== 'undefined' && puter.kv) {
      const savedJson = await puter.kv.get(key);
      console.log('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„:', savedJson);
      if (savedJson) {
        const item = JSON.parse(savedJson);
        if (!item || !item.diagnoses) {
          alert('Ù„Ø§ ØªØ´Ø®ÙŠØµØ§Øª Ù…ØªØ§Ø­Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¬Ù„.');
          return;
        }

        const tableModal = document.createElement('div');
        tableModal.className = 'modal';
        tableModal.innerHTML = `
          <div class="modal-content">
            <div class="modal-header">
              <h3>ØªØ´Ø®ÙŠØµØ§Øª ${item.date}</h3>
              <span class="close" onclick="this.parentElement.parentElement.parentElement.remove()">&times;</span>
            </div>
            <div class="modal-body">
              <div id="savedTable"></div>
            </div>
          </div>
        `;
        document.body.appendChild(tableModal);
        tableModal.style.display = 'block';

        document.getElementById('savedTable').innerHTML = renderDiagnosesHtml(item.diagnoses);
        console.log('ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„');
      } else {
        alert('Ù„Ø§ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ§Ø­Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¬Ù„.');
      }
    } else {
      alert('Puter.js ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„.');
    }
  } catch (error) {
    console.error('Ø®Ø·Ø£ ÙÙŠ showDiagnosisTable:', error);
    alert('Ø®Ø·Ø£ ÙÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„: ' + error.message);
  }
}

// loadAndFillForm
async function loadAndFillForm(key) {
  console.log('Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù„Ù„ÙƒÙŠ:', key);
  try {
    if (typeof puter !== 'undefined' && puter.kv) {
      const savedJson = await puter.kv.get(key);
      if (savedJson) {
        const savedData = JSON.parse(savedJson);
        const storyData = savedData.story;

        // Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„
        document.getElementById('fullName').value = storyData.fullName || '';
        document.getElementById('gender').value = storyData.gender || '';
        document.getElementById('age').value = storyData.age || '';
        document.getElementById('maritalStatus').value = storyData.maritalStatus || '';
        document.getElementById('childrenCount').value = storyData.childrenCount || '';
        document.getElementById('address').value = storyData.address || '';
        document.getElementById('occupation').value = storyData.occupation || '';
        document.getElementById('vitalsOptIn').value = storyData.vitalsOptIn || '';
        document.getElementById('bloodPressure').value = storyData.bloodPressure || '';
        document.getElementById('pulse').value = storyData.pulse || '';
        document.getElementById('temperature').value = storyData.temperature || '';
        document.getElementById('respiratoryRate').value = storyData.respiratoryRate || '';
        document.getElementById('weight').value = storyData.weight || '';
        document.getElementById('height').value = storyData.height || '';
        document.getElementById('bmi').value = storyData.bmi || '';
        document.getElementById('smoking').value = storyData.smoking || '';
        document.getElementById('smokingQuantity').value = storyData.smokingQuantity || '';
        document.getElementById('alcohol').value = storyData.alcohol || '';
        document.getElementById('alcoholQuantity').value = storyData.alcoholQuantity || '';
        document.getElementById('drugs').value = storyData.drugs || '';
        document.getElementById('drugsQuantity').value = storyData.drugsQuantity || '';

        // Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
        clearDynamicLists();
        populateComplaints(storyData.complaints || []);
        populateMedicalHistory(storyData.medicalHistory || []);
        populateSurgicalHistory(storyData.surgicalHistory || []);
        populateDrugHistory(storyData.drugHistory || []);
        populateAllergyHistory(storyData.allergyHistory || []);
        populateFamilyHistory(storyData.familyHistory || []);
        populateReports(storyData.reports || []);

        // ØªØ­Ø¯ÙŠØ« conditionals
        toggleChildren();
        toggleVitalsSection();
        if (storyData.smoking !== 'Ù„Ø§') toggleHabitDetails('smokingDetails');
        if (storyData.alcohol !== 'Ù„Ø§') toggleHabitDetails('alcoholDetails');
        if (storyData.drugs !== 'Ù„Ø§') toggleHabitDetails('drugsDetails');
        calculateBMI();

        closeHistoryModal();
        showStep(1);
        console.log('ØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ù†Ø¬Ø§Ø­');
        alert('ØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø¨Ù†Ø¬Ø§Ø­!');
      } else {
        alert('Ù„Ø§ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬.');
      }
    } else {
      alert('Puter.js ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ù„Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬.');
    }
  } catch (error) {
    console.error('Ø®Ø·Ø£ ÙÙŠ loadAndFillForm:', error);
    alert('Ø®Ø·Ø£ ÙÙŠ Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬: ' + error.message);
  }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… (clearDynamicLists, populate*, add*Item)
function clearDynamicLists() {
  ['complaintsList', 'medicalHistoryList', 'surgicalHistoryList', 'drugHistoryList', 'allergyHistoryList', 'familyHistoryList', 'reportsList'].forEach(id => {
    const container = document.getElementById(id);
    if (container) container.innerHTML = '';
  });
  medicalHistoryCount = 0;
  surgicalHistoryCount = 0;
  drugHistoryCount = 0;
  allergyHistoryCount = 0;
  familyHistoryCount = 0;
  reportsCount = 0;
}

function populateComplaints(complaints) {
  complaints.forEach(complaint => {
    const div = document.createElement('div');
    div.className = 'list-item';
    div.id = `complaint_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    div.innerHTML = `<input type="text" value="${complaint}" readonly><button class="remove-btn" onclick="removeItem('${div.id}')"><i class="fas fa-trash"></i></button>`;
    document.getElementById('complaintsList').appendChild(div);
  });
}

let medicalHistoryCount = 0, surgicalHistoryCount = 0, drugHistoryCount = 0, allergyHistoryCount = 0, familyHistoryCount = 0, reportsCount = 0;

function populateMedicalHistory(items) {
  items.forEach(item => addMedicalHistoryItem(item.disease, item.details));
}

function addMedicalHistoryItem(disease, details) {
  medicalHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `medical${medicalHistoryCount}`;
  div.innerHTML = `<input type="text" value="${disease || ''}" required><input type="text" value="${details || ''}" required><button class="remove-btn" onclick="removeItem('medical${medicalHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('medicalHistoryList').appendChild(div);
}

function populateSurgicalHistory(items) {
  items.forEach(item => addSurgicalHistoryItem(item.surgery, item.details));
}

function addSurgicalHistoryItem(surgery, details) {
  surgicalHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `surgical${surgicalHistoryCount}`;
  div.innerHTML = `<input type="text" value="${surgery || ''}" required><input type="text" value="${details || ''}" required><button class="remove-btn" onclick="removeItem('surgical${surgicalHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('surgicalHistoryList').appendChild(div);
}

function populateDrugHistory(items) {
  items.forEach(item => addDrugHistoryItem(item.medication, item.details));
}

function addDrugHistoryItem(medication, details) {
  drugHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `drug${drugHistoryCount}`;
  div.innerHTML = `<input type="text" value="${medication || ''}" required><input type="text" value="${details || ''}" required><button class="remove-btn" onclick="removeItem('drug${drugHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('drugHistoryList').appendChild(div);
}

function populateAllergyHistory(items) {
  items.forEach(item => addAllergyHistoryItem(item.allergen, item.details));
}

function addAllergyHistoryItem(allergen, details) {
  allergyHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `allergy${allergyHistoryCount}`;
  div.innerHTML = `<input type="text" value="${allergen || ''}" required><input type="text" value="${details || ''}" required><button class="remove-btn" onclick="removeItem('allergy${allergyHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('allergyHistoryList').appendChild(div);
}

function populateFamilyHistory(items) {
  items.forEach(item => addFamilyHistoryItem(item.disease, item.relation));
}

function addFamilyHistoryItem(disease, relation) {
  familyHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `family${familyHistoryCount}`;
  div.innerHTML = `
    <input type="text" value="${disease || ''}" required>
    <select required>
      <option value="">Ø¯Ø±Ø¬Ø© Ø§Ù„Ù‚Ø±Ø§Ø¨Ø©</option>
      <option value="Ø£Ø¨" ${relation === 'Ø£Ø¨' ? 'selected' : ''}>Ø£Ø¨</option>
      <option value="Ø£Ù…" ${relation === 'Ø£Ù…' ? 'selected' : ''}>Ø£Ù…</option>
      <option value="Ø£Ø®" ${relation === 'Ø£Ø®' ? 'selected' : ''}>Ø£Ø®</option>
      <option value="Ø£Ø®Øª" ${relation === 'Ø£Ø®Øª' ? 'selected' : ''}>Ø£Ø®Øª</option>
      <option value="Ø£Ø®Ø±Ù‰" ${relation === 'Ø£Ø®Ø±Ù‰' ? 'selected' : ''}>Ø£Ø®Ø±Ù‰</option>
    </select>
    <button class="remove-btn" onclick="removeItem('family${familyHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('familyHistoryList').appendChild(div);
}

function populateReports(items) {
  items.forEach(item => addReportItem(item.type, item.results, item.date));
}

function addReportItem(type, results, date) {
  reportsCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `report${reportsCount}`;
  div.innerHTML = `<input type="text" value="${type || ''}" required><textarea>${results || ''}</textarea><input type="date" value="${date || ''}"><button class="remove-btn" onclick="removeItem('report${reportsCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('reportsList').appendChild(div);
}

// deleteDiagnosis
async function deleteDiagnosis(key) {
  console.log('Ø­Ø°Ù Ø§Ù„ÙƒÙŠ:', key);
  try {
    if (typeof puter !== 'undefined' && puter.kv) {
      await puter.kv.del(key);
      console.log('ØªÙ… Ø§Ù„Ø­Ø°Ù');
      openHistoryModal(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„
      alert('ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­!');
    } else {
      alert('Puter ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ù„Ù„Ø­Ø°Ù.');
    }
  } catch (error) {
    console.error('Ø®Ø·Ø£ ÙÙŠ del():', error);
    alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­Ø°Ù: ' + error.message);
  }
}

// Conditionals
function toggleChildren() {
  const status = document.getElementById('maritalStatus').value;
  document.getElementById('childrenField').style.display = (status !== 'Ø£Ø¹Ø²Ø¨') ? 'block' : 'none';
}

function toggleVitalsSection() {
  const optIn = document.getElementById('vitalsOptIn').value;
  document.getElementById('vitalsSection').style.display = (optIn === 'Ù†Ø¹Ù…') ? 'block' : 'none';
}

function toggleHabitDetails(detailsId) {
  const selectId = detailsId.replace('Details', '');
  const value = document.getElementById(selectId)?.value || '';
  const detailsEl = document.getElementById(detailsId);
  if (detailsEl) detailsEl.style.display = (value !== 'Ù„Ø§') ? 'block' : 'none';
}

function calculateBMI() {
  const weight = parseFloat(document.getElementById('weight')?.value || 0);
  const height = parseFloat(document.getElementById('height')?.value || 0) / 100;
  const bmiField = document.getElementById('bmi');
  if (weight > 0 && height > 0) {
    bmiField.value = (weight / (height * height)).toFixed(2);
  } else {
    bmiField.value = '';
  }
}

// Ù‚ÙˆØ§Ø¦Ù… Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© (add*)
function addMedicalHistory() {
  medicalHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `medical${medicalHistoryCount}`;
  div.innerHTML = `<input type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø¶" required><input type="text" placeholder="Ø§Ù„Ù…Ø¯Ø©/Ø§Ù„ØªÙØ§ØµÙŠÙ„" required><button class="remove-btn" onclick="removeItem('medical${medicalHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('medicalHistoryList').appendChild(div);
}

function addSurgicalHistory() {
  surgicalHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `surgical${surgicalHistoryCount}`;
  div.innerHTML = `<input type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©" required><input type="text" placeholder="Ø§Ù„ØªØ§Ø±ÙŠØ®/Ø§Ù„ØªÙØ§ØµÙŠÙ„" required><button class="remove-btn" onclick="removeItem('surgical${surgicalHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('surgicalHistoryList').appendChild(div);
}

function addDrugHistory() {
  drugHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `drug${drugHistoryCount}`;
  div.innerHTML = `<input type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡" required><input type="text" placeholder="Ø§Ù„Ø¬Ø±Ø¹Ø©/Ø§Ù„Ù…Ø¯Ø©" required><button class="remove-btn" onclick="removeItem('drug${drugHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('drugHistoryList').appendChild(div);
}

function addAllergyHistory() {
  allergyHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `allergy${allergyHistoryCount}`;
  div.innerHTML = `<input type="text" placeholder="Ù†ÙˆØ¹ Ø§Ù„ØªØ­Ø³Ø³" required><input type="text" placeholder="Ø§Ù„ØªÙØ§Ø¹Ù„/Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶" required><button class="remove-btn" onclick="removeItem('allergy${allergyHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('allergyHistoryList').appendChild(div);
}

function addFamilyHistory() {
  familyHistoryCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `family${familyHistoryCount}`;
  div.innerHTML = `<input type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø¶ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ" required><select required><option value="">Ø¯Ø±Ø¬Ø© Ø§Ù„Ù‚Ø±Ø§Ø¨Ø©</option><option value="Ø£Ø¨">Ø£Ø¨</option><option value="Ø£Ù…">Ø£Ù…</option><option value="Ø£Ø®">Ø£Ø®</option><option value="Ø£Ø®Øª">Ø£Ø®Øª</option><option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option></select><button class="remove-btn" onclick="removeItem('family${familyHistoryCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('familyHistoryList').appendChild(div);
}

function addReport() {
  reportsCount++;
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `report${reportsCount}`;
  div.innerHTML = `<input type="text" placeholder="Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ± (Ù…Ø«Ø§Ù„: ØªØ­Ù„ÙŠÙ„ Ø¯Ù…)" required><textarea placeholder="Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" required></textarea><input type="date"><button class="remove-btn" onclick="removeItem('report${reportsCount}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('reportsList').appendChild(div);
}

function removeItem(id) {
  const element = document.getElementById(id);
  if (element) element.remove();
}

// Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ³ÙˆØ¹Ø© (symptomsData, openSymptomsLibrary, Ø¥Ù„Ø® - ÙƒÙ…Ø§ Ù‡Ùˆ)
// symptomsData Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø¯Ø§Ø®Ù„ÙŠØ©/Ø§Ù„Ø¬Ø±Ø§Ø­Ø© (50 Ø¹Ø±Ø¶Ø§Ù‹ Ù…Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ 6 ÙØ¦Ø§Øª Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© - 8-9 Ø£Ø¹Ø±Ø§Ø¶ Ù„ÙƒÙ„ ÙØ¦Ø©)
let symptomsData = {
  // ÙØ¦Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠ (9 Ø£Ø¹Ø±Ø§Ø¶)
  "Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠ": {
    "Ø£Ù„Ù… Ø¨Ø·Ù†ÙŠ": {
      "description": "Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø¨Ø·Ù†ØŒ Ù‚Ø¯ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ù‚Ø±Ø­Ø©ØŒ Ø§Ù„ØªÙ‡Ø§Ø¨ Ø²Ø§Ø¦Ø¯Ø©ØŒ Ø£Ùˆ Ù…Ø´Ø§ÙƒÙ„ Ù‡Ø¶Ù…ÙŠØ©. Ø§Ø³ØªØ´Ø± ÙÙˆØ±Ù‹Ø§ Ø¥Ø°Ø§ Ø´Ø¯ÙŠØ¯.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠÙ…Ù†", "Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠØ³Ø±", "Ø§Ù„ÙˆØ³Ø·", "Ù…Ù†ØªØ´Ø±"] },
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø­Ø§Ø¯", "Ù…Ø²Ù…Ù†", "Ù†Ø¨Ø¶ÙŠ", "Ø­Ø§Ø±Ù‚"] },
        { "text": "Ø´Ø¯Ø© Ø§Ù„Ø£Ù„Ù… (1-10)ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["ØºØ«ÙŠØ§Ù†", "Ù‚ÙŠØ¡", "Ø¥Ø³Ù‡Ø§Ù„", "Ø¥Ù…Ø³Ø§Ùƒ", "Ø­Ù…Ù‰"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ù„Ø£ÙƒÙ„ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§", "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø³Ø§Ø¹Ø§Øª", "Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] },
        { "text": "Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©ØŸ", "type": "textarea" }
      ]
    },
    "Ù‚ÙŠØ¡ Ù…ØªÙƒØ±Ø±": {
      "description": "Ù‚ÙŠØ¡ ÙŠØ³ØªÙ…Ø±ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† ØªØ³Ù…Ù… ØºØ°Ø§Ø¦ÙŠØŒ Ø§Ù†Ø³Ø¯Ø§Ø¯ØŒ Ø£Ùˆ ØºØ«ÙŠØ§Ù† Ø¯ÙˆØ§Ø¦ÙŠ.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ù‚ÙŠØ¡ØŸ", "type": "select", "options": ["ØºØ°Ø§Ø¡ ØºÙŠØ± Ù…Ù‡Ø¶ÙˆÙ…", "Ø§Ø¨ÙŠØ¶", "Ø¯Ù…ÙˆÙŠ", "Ø£ØµÙØ±", "Ø¨Ù†ÙŠ/Ø§Ø³ÙˆØ¯"] },
        { "text": "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª ÙŠÙˆÙ…ÙŠÙ‹Ø§ØŸ", "type": "number", "min": 1, "max": 20 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø£Ù„Ù… Ø¨Ø·Ù†", "Ø¥Ø³Ù‡Ø§Ù„", "Ø¯ÙˆØ®Ø©", "Ø¬ÙØ§Ù"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø£ÙƒÙ„ Ù…Ø¹ÙŠÙ†ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["ÙŠÙˆÙ…", "Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] },
        { "text": "Ø£Ø¯ÙˆÙŠØ© Ø­Ø¯ÙŠØ«Ø©ØŸ", "type": "textarea" }
      ]
    },
    "Ø¥Ø³Ù‡Ø§Ù„": {
      "description": "Ø¥Ø³Ù‡Ø§Ù„ Ù…ØªÙƒØ±Ø±ØŒ Ù‚Ø¯ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø¹Ø¯ÙˆÙ‰ØŒ ØªØ³Ù…Ù… ØºØ°Ø§Ø¦ÙŠØŒ Ø£Ùˆ Ø§Ø¶Ø·Ø±Ø§Ø¨Ø§Øª Ù‡Ø¶Ù…ÙŠØ©.",
      "questions": [
        { "text": "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª ÙŠÙˆÙ…ÙŠÙ‹Ø§ØŸ", "type": "select", "options": ["1-3", "4-6", "Ø£ÙƒØ«Ø± Ù…Ù† 6"] },
        { "text": "Ø´ÙƒÙ„ Ø§Ù„Ø¨Ø±Ø§Ø²ØŸ", "type": "select", "options": ["Ø³Ø§Ø¦Ù„", "Ù„Ø²Ø¬", "Ø¯Ù…ÙˆÙŠ", "Ù…Ø®Ø§Ø·ÙŠ"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø£Ù„Ù… Ø¨Ø·Ù†", "ØºØ«ÙŠØ§Ù†", "Ø¬ÙØ§Ù", "Ø­Ù…Ù‰"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ù„Ø·Ø¹Ø§Ù…ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ø¥Ø³Ù‡Ø§Ù„ØŸ", "type": "select", "options": ["ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯", "Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] },
        { "text": "Ø³ÙØ± Ø­Ø¯ÙŠØ«ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ù„Ø§Ø­Ø¸Ø§ØªØŸ", "type": "textarea" }
      ]
    },
    "Ø¥Ù…Ø³Ø§Ùƒ": {
      "description": "ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¹ÙˆØ¶Ù‹Ø§ Ù„Ù„Ø¥Ù…Ø³Ø§Ùƒ Ø£Ùˆ Ù…Ø´Ø§ÙƒÙ„ Ø£Ù…Ø¹Ø§Ø¡.",
      "questions": [
        { "text": "Ø¹Ø¯Ø¯ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø£Ù…Ø¹Ø§Ø¡ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ‹Ø§ØŸ", "type": "number", "min": 0, "max": 7 },
        { "text": "Ø¬Ù‡Ø¯ Ù„Ù„Ø¥Ø®Ø±Ø§Ø¬ØŸ", "type": "radio", "options": ["Ø´Ø¯ÙŠØ¯", "Ù…Ø¹ØªØ¯Ù„", "Ù„Ø§"] },
        { "text": "Ø´ÙƒÙ„ Ø§Ù„Ø¨Ø±Ø§Ø² (1-7 Ø¨Ù…Ø§ ÙŠØªØ¹Ù„Ù‚ Ø¨Ø§Ù„ØµÙ„Ø§Ø¨Ø©)ØŸ", "type": "range", "min": 1, "max": 7, "step": 1 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø£Ù„Ù… Ø¨Ø·Ù†", "Ø§Ù†ØªÙØ§Ø®", "Ø¯Ù… ÙÙŠ Ø§Ù„Ø¨Ø±Ø§Ø²"] },
        { "text": "ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØºØ°Ø§Ø¦ÙŠØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¯ÙˆÙŠØ© (Ù…Ø³ÙƒÙ†Ø§ØªØŒ Ø­Ø¯ÙŠØ¯)ØŸ", "type": "textarea" }
      ]
    },
    "Ø§Ù†ØªÙØ§Ø® Ø§Ù„Ø¨Ø·Ù†": {
      "description": "Ø§Ù†ØªÙØ§Ø® Ø£Ùˆ ØºØ§Ø²Ø§ØªØŒ Ù‚Ø¯ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø¹Ø¯Ù… ØªØ­Ù…Ù„ Ù„ÙƒØªÙˆØ² Ø£Ùˆ IBS.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§Ù†ØªÙØ§Ø®ØŸ", "type": "select", "options": ["Ø¹Ù„ÙˆÙŠ", "Ø£Ø³ÙÙ„", "Ù…Ù†ØªØ´Ø±"] },
        { "text": "Ø´Ø¯Ø© (1-10)ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ù„Ø£ÙƒÙ„ØŸ", "type": "checkbox", "options": ["Ø­Ù„ÙŠØ¨", "ÙØ§ØµÙˆÙ„ÙŠØ§", "Ù…Ø´Ø±ÙˆØ¨Ø§Øª ØºØ§Ø²ÙŠØ©"] },
        { "text": "Ø£Ù„Ù… Ù…ØµØ§Ø­Ø¨ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 30 }
      ]
    },
    "ØµØ¹ÙˆØ¨Ø© Ø¨Ù„Ø¹": {
      "description": "ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ø¨Ù„Ø¹ØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† Ù…Ø´Ø§ÙƒÙ„ Ù…Ø±ÙŠØ¦ÙŠØ© Ø£Ùˆ Ø³Ø±Ø·Ø§Ù†ÙŠØ©.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„ØµØ¹ÙˆØ¨Ø©ØŸ", "type": "select", "options": ["ØµÙ„Ø¨ÙŠØ§Øª (Ù„Ø­Ù…)", "Ø³ÙˆØ§Ø¦Ù„", "ÙƒÙ„Ø§"] },
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§Ù†Ø³Ø¯Ø§Ø¯ØŸ", "type": "select", "options": ["Ø±Ù‚Ø¨Ø©", "ØµØ¯Ø±", "Ù„Ø§ ÙŠÙ…Ø±"] },
        { "text": "Ø£Ù„Ù… Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ù„Ø¹ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ÙÙ‚Ø¯Ø§Ù† ÙˆØ²Ù†ØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£Ø³Ø§Ø¨ÙŠØ¹", "Ø´Ù‡ÙˆØ±"] },
        { "text": "ØªØ§Ø±ÙŠØ® Ø­Ù…ÙˆØ¶Ø©ØŸ", "type": "textarea" }
      ]
    },
    "Ù†Ø²ÙŠÙ Ù…Ø¹Ø¯ÙŠ": {
      "description": "Ù†Ø²ÙŠÙ Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠØŒ Ø¹Ø§Ø¬Ù„ â€“ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù‚Ø±Ø­Ø© Ø£Ùˆ Ø¯ÙˆØ§Ù„ÙŠ.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ù†Ø²ÙŠÙØŸ", "type": "select", "options": ["Ù‚ÙŠØ¡ Ø¯Ù…ÙˆÙŠ", "Ø¨Ø±Ø§Ø² Ø£Ø³ÙˆØ¯", "Ø¯Ù… Ø£Ø­Ù…Ø±"] },
        { "text": "ÙƒÙ…ÙŠØ© ØªÙ‚Ø±ÙŠØ¨ÙŠØ©ØŸ", "type": "select", "options": ["Ù‚Ù„ÙŠÙ„", "Ù…ØªÙˆØ³Ø·", "ØºØ²ÙŠØ±"] },
        { "text": "Ø£Ù„Ù… Ø¨Ø·Ù†ÙŠØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø¯ÙˆØ®Ø© Ø£Ùˆ Ø¥Ø±Ù‡Ø§Ù‚ØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¯ÙˆÙŠØ© Ù…Ø¶Ø§Ø¯Ø© Ù„Ù„ØªØ®Ø«Ø±ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø³Ø§Ø¨Ù‚ Ù‚Ø±Ø­Ø©ØŸ", "type": "textarea" }
      ]
    },
    "ÙÙ‚Ø¯Ø§Ù† ÙˆØ²Ù† ØºÙŠØ± Ù…Ø¨Ø±Ø±": {
      "description": "ÙÙ‚Ø¯Ø§Ù† ÙˆØ²Ù† Ù…ÙØ§Ø¬Ø¦ØŒ Ù‚Ø¯ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø³Ø±Ø·Ø§Ù† Ø£Ùˆ ÙØ±Ø· Ù†Ø´Ø§Ø· Ø§Ù„ØºØ¯Ø©.",
      "questions": [
        { "text": "ÙƒÙ…ÙŠØ© Ø§Ù„ÙÙ‚Ø¯Ø§Ù† (ÙƒØº) ÙÙŠ 6 Ø£Ø´Ù‡Ø±ØŸ", "type": "number", "min": 0, "max": 50 },
        { "text": "ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„Ø´Ù‡ÙŠØ©ØŸ", "type": "select", "options": ["Ø²ÙŠØ§Ø¯Ø©", "Ù†Ù‚ØµØ§Ù†", "Ø·Ø¨ÙŠØ¹ÙŠ"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø¥Ø±Ù‡Ø§Ù‚", "Ø¹Ø±Ù‚ Ù„ÙŠÙ„ÙŠ", "Ø­Ù…Ù‰"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨ØªØºÙŠÙŠØ± Ù†Ø¸Ø§Ù…ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        
        { "text": "Ù…Ù„Ø§Ø­Ø¸Ø§ØªØŸ", "type": "textarea" }
      ]
    },
    "Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠÙ…Ù† Ø§Ù„Ø¹Ù„ÙˆÙŠ": {
      "description": "Ø£Ù„Ù… ØªØ­Øª Ø§Ù„Ù‚ÙØµ Ø§Ù„ØµØ¯Ø±ÙŠØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù…Ø´Ø§ÙƒÙ„ ÙƒØ¨Ø¯ Ø£Ùˆ Ù…Ø±Ø§Ø±Ø©.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ù…ÙˆØ¬ÙŠ", "Ù…Ø³ØªÙ…Ø±", "Ø­Ø§Ø¯"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø£ÙƒÙ„ Ø¯Ù‡Ù†ÙŠØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£ØµÙØ±Ø§Ø± ÙÙŠ Ø§Ù„Ø¬Ù„Ø¯ØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø­Ù…Ù‰ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 365 }
      ]
    }
  },

  // ÙØ¦Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‚Ù„Ø¨ÙŠ Ø§Ù„ÙˆØ¹Ø§Ø¦ÙŠ (8 Ø£Ø¹Ø±Ø§Ø¶)
  "Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‚Ù„Ø¨ÙŠ Ø§Ù„ÙˆØ¹Ø§Ø¦ÙŠ": {
    "Ø£Ù„Ù… ØµØ¯Ø±ÙŠ": {
      "description": "Ø£Ù„Ù… ÙÙŠ Ø§Ù„ØµØ¯Ø±ØŒ Ù‚Ø¯ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø°Ø¨Ø­Ø© ØµØ¯Ø±ÙŠØ© Ø£Ùˆ Ù…Ø´ÙƒÙ„Ø© Ø¹Ø¶Ù„ÙŠØ©. Ø¹Ø§Ø¬Ù„ Ø¥Ø°Ø§ Ù…Ø¹ ØªØ¹Ø±Ù‚.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["ÙˆØ³Ø· Ø§Ù„ØµØ¯Ø±", "ÙŠØ³Ø§Ø±", "ÙŠÙ…ÙŠÙ†", "Ù…Ù†ØªØ´Ø±"] },
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø¶ØºØ·", "Ø­Ø±Ù‚Ø©", "Ø·Ø¹Ù†"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø¯Ù‚Ø§Ø¦Ù‚", "Ø³Ø§Ø¹Ø§Øª", "Ø£ÙŠØ§Ù…"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["ØªØ¹Ø±Ù‚", "ØºØ«ÙŠØ§Ù†", "Ø¶ÙŠÙ‚ ØªÙ†ÙØ³", "Ø£Ù„Ù… Ø°Ø±Ø§Ø¹"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ù„Ø¬Ù‡Ø¯ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø´Ø¯Ø© (1-10)ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø³Ø§Ø¨Ù‚ Ø£Ù…Ø±Ø§Ø¶ Ù‚Ù„Ø¨ØŸ", "type": "textarea" }
      ]
    },
    "Ø¶ÙŠÙ‚ ØªÙ†ÙØ³": {
      "description": "ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„ØªÙ†ÙØ³ØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† ÙØ´Ù„ Ù‚Ù„Ø¨ÙŠ Ø£Ùˆ Ø±Ø¦ÙˆÙŠ.",
      "questions": [
        { "text": "Ø¹Ù†Ø¯ Ø§Ù„Ø±Ø§Ø­Ø© Ø£Ù… Ø§Ù„Ø¬Ù‡Ø¯ØŸ", "type": "select", "options": ["Ø±Ø§Ø­Ø©", "Ø¬Ù‡Ø¯", "ÙƒÙ„Ø§"] },
        { "text": "ØªØ±Ø¯Ø¯ Ø§Ù„ØªÙ†ÙØ³ØŸ", "type": "number", "min": 10, "max": 40 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["ØªÙˆØ±Ù… Ø³Ø§Ù‚ÙŠÙ†", "Ø³Ø¹Ø§Ù„ Ù„ÙŠÙ„ÙŠ", "ØªØ¹Ø¨"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ø³ØªÙ„Ù‚Ø§Ø¡ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£Ø³Ø§Ø¨ÙŠØ¹", "Ø´Ù‡ÙˆØ±"] },
        { "text": "Ø¶ØºØ· Ù…Ø±ØªÙØ¹ØŸ", "type": "textarea" }
      ]
    },
    "Ø®ÙÙ‚Ø§Ù† Ù‚Ù„Ø¨": {
      "description": "Ø¶Ø±Ø¨Ø§Øª Ù‚Ù„Ø¨ Ø³Ø±ÙŠØ¹Ø©ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† arrhythmia Ø£Ùˆ ØªÙˆØªØ±.",
      "questions": [
        { "text": "ØªØ±Ø¯Ø¯ Ø§Ù„Ø®ÙÙ‚Ø§Ù† (Ø¨Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©)ØŸ", "type": "number", "min": 60, "max": 200 },
        { "text": "Ù…Ù†ØªØ¸Ù… Ø£Ù… ØºÙŠØ± Ù…Ù†ØªØ¸Ù…ØŸ", "type": "select", "options": ["Ù…Ù†ØªØ¸Ù…", "ØºÙŠØ± Ù…Ù†ØªØ¸Ù…"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø¯ÙˆØ®Ø©", "Ø£Ù„Ù… ØµØ¯Ø±", "ØªØ¹Ø±Ù‚"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø¬Ù‡Ø¯ Ø£Ùˆ ÙƒØ§ÙÙŠÙŠÙ†ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ù†ÙˆØ¨Ø©ØŸ", "type": "select", "options": ["Ø¯Ù‚Ø§Ø¦Ù‚", "Ø³Ø§Ø¹Ø§Øª"] },
        { "text": "ØªØ§Ø±ÙŠØ® Ø£Ø¯ÙˆÙŠØ© Ù‚Ù„Ø¨ØŸ", "type": "textarea" }
      ]
    },
    "ØªÙˆØ±Ù… ÙÙŠ Ø§Ù„Ø³Ø§Ù‚ÙŠÙ†": {
      "description": "ÙˆØ°Ù…Ø©ØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† ÙØ´Ù„ Ù‚Ù„Ø¨ Ø£Ùˆ ÙƒÙ„Ù‰.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªÙˆØ±Ù…ØŸ", "type": "select", "options": ["Ø³Ø§Ù‚ÙŠÙ†", "Ù‚Ø¯Ù…ÙŠÙ†", "ÙˆØ¬Ù‡"] },
        { "text": "Ø´Ø¯Ø©ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø¶ÙŠÙ‚ ØªÙ†ÙØ³", "ØªØ¹Ø¨", "Ø£Ù„Ù…"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ù„ÙˆÙ‚ÙˆÙØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 365 },
        { "text": "Ø¯ÙˆØ§Ø¡ Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ù„ØªÙ‡Ø§Ø¨ØŸ", "type": "textarea" }
      ]
    },
    "Ø¯ÙˆØ®Ø© Ø£Ùˆ Ø¥ØºÙ…Ø§Ø¡": {
      "description": "Ø¯ÙˆØ§Ø±ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø§Ù†Ø®ÙØ§Ø¶ Ø¶ØºØ· Ø£Ùˆ ÙÙ‚Ø± Ø¯Ù….",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙˆØ®Ø©ØŸ", "type": "select", "options": ["Ø¯ÙˆØ±Ø§Ù†", "ØºØ´Ø§ÙˆØ©", "ÙÙ‚Ø¯Ø§Ù† ØªÙˆØ§Ø²Ù†"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨ÙˆÙ‚ÙˆÙ Ù…ÙØ§Ø¬Ø¦ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["ØºØ«ÙŠØ§Ù†", "ØªØ¹Ø±Ù‚", "Ø±Ø¤ÙŠØ© Ù…Ø´ÙˆØ´Ø©"] },
        { "text": "ØªØ±Ø¯Ø¯ (Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ‹Ø§)ØŸ", "type": "number", "min": 0, "max": 20 },
        { "text": "Ø¶ØºØ· Ù…Ù†Ø®ÙØ¶ Ø³Ø§Ø¨Ù‚ØŸ", "type": "textarea" }
      ]
    },
    "ØªØ¹Ø¨ Ø¹Ø§Ù…": {
      "description": "Ø¥Ø±Ù‡Ø§Ù‚ Ù…Ø³ØªÙ…Ø±ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† ÙÙ‚Ø± Ø¯Ù… Ø£Ùˆ Ù…Ø´Ø§ÙƒÙ„ Ù‚Ù„Ø¨ÙŠØ©.",
      "questions": [
        { "text": "Ø´Ø¯Ø© Ø§Ù„ØªØ¹Ø¨ (1-10)ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ù„Ø¬Ù‡Ø¯ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ù†Ù‚ØµØ§Ù† Ø´Ù‡ÙŠØ©", "ÙÙ‚Ø¯Ø§Ù† ÙˆØ²Ù†", "Ø¶ÙŠÙ‚ ØªÙ†ÙØ³"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£Ø³Ø§Ø¨ÙŠØ¹", "Ø´Ù‡ÙˆØ±"] },
        { "text": "ØªØ­Ø§Ù„ÙŠÙ„ Ø¯Ù… Ø³Ø§Ø¨Ù‚Ø©ØŸ", "type": "textarea" }
      ]
    },
    "Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø³Ø§Ù‚ÙŠÙ† Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´ÙŠ": {
      "description": "Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø³Ø§Ù‚ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø´Ù‚Ø§Ù‚ Ø£Ùˆ Ù†Ù‚Øµ ØªØ±ÙˆÙŠØ©.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø³Ø§Ù‚ÙŠÙ†", "ÙØ®Ø°ÙŠÙ†", "ÙˆØ§Ø­Ø¯Ø©"] },
        { "text": "Ù†ÙˆØ¹ØŸ", "type": "select", "options": ["ØªØ´Ù†Ø¬ÙŠ", "Ø­Ø±Ù‚", "Ù†Ø¨Ø¶ÙŠ"] },
        { "text": "ÙŠØ®ØªÙÙŠ Ù…Ø¹ Ø§Ù„Ø±Ø§Ø­Ø©ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø³Ø§ÙØ© Ø§Ù„Ù…Ø´ÙŠ Ø­ØªÙ‰ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "number", "min": 0, "max": 1000 },
        { "text": "ØªÙˆØ±Ù… Ø£Ùˆ Ø¨Ø±ÙˆØ¯Ø©ØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] }
      ]
    },
    "Ø§Ø±ØªÙØ§Ø¹ Ø¶ØºØ· Ø§Ù„Ø¯Ù…": {
      "description": "Ø¶ØºØ· Ù…Ø±ØªÙØ¹ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø£Ø³Ø§Ø³ÙŠ Ø£Ùˆ Ø«Ø§Ù†ÙˆÙŠ.",
      "questions": [
        { "text": "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¶ØºØ· Ø§Ù„Ø£Ø®ÙŠØ±Ø©ØŸ", "type": "text", "placeholder": "Ù…Ø«Ø§Ù„: 160/100" },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["ØµØ¯Ø§Ø¹", "Ù†Ø²ÙŠÙ Ø£Ù†Ù", "Ø±Ø¤ÙŠØ© Ù…Ø´ÙˆØ´Ø©"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ø§ÙƒØªØ´Ø§ÙØŸ", "type": "select", "options": ["Ø³Ù†ÙˆØ§Øª", "Ø´Ù‡ÙˆØ±"] },
        { "text": "Ø¹Ù„Ø§Ø¬ Ø­Ø§Ù„ÙŠØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ØªØ§Ø±ÙŠØ® Ø¹Ø§Ø¦Ù„ÙŠØŸ", "type": "textarea" }
      ]
    }
  },

  // ÙØ¦Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙ†ÙØ³ÙŠ (8 Ø£Ø¹Ø±Ø§Ø¶)
  "Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙ†ÙØ³ÙŠ": {
    "Ø³Ø¹Ø§Ù„ Ù…Ø³ØªÙ…Ø±": {
      "description": "Ø³Ø¹Ø§Ù„ ÙŠØ³ØªÙ…Ø±ØŒ Ù‚Ø¯ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø¹Ø¯ÙˆÙ‰ØŒ Ø­Ø³Ø§Ø³ÙŠØ©ØŒ Ø£Ùˆ Ù…Ø´Ø§ÙƒÙ„ Ø±Ø¦ÙˆÙŠØ©.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¹Ø§Ù„ØŸ", "type": "select", "options": ["Ø¬Ø§Ù", "Ø±Ø·Ø¨ Ù…Ø¹ Ø¨Ù„ØºÙ…", "Ø¯Ù…ÙˆÙŠ"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ø³Ø¹Ø§Ù„ØŸ", "type": "select", "options": ["Ø£Ù‚Ù„ Ù…Ù† Ø£Ø³Ø¨ÙˆØ¹", "Ø£Ø³Ø§Ø¨ÙŠØ¹", "Ø´Ù‡ÙˆØ±"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø¶ÙŠÙ‚ ØªÙ†ÙØ³", "Ø­Ù…Ù‰", "Ø£Ù„Ù… ØµØ¯Ø±", "ØªØ¹Ø¨"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ù„ØªØ¯Ø®ÙŠÙ†ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø´Ø¯Ø©ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "ØªØ§Ø±ÙŠØ® Ø±Ø¦ÙˆÙŠØŸ", "type": "textarea" }
      ]
    },
    "Ø¶ÙŠÙ‚ ØªÙ†ÙØ³": {
      "description": "ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„ØªÙ†ÙØ³ØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† Ø§Ù„Ø±Ø¨Ùˆ Ø£Ùˆ Ø§Ù„Ø§Ù†Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø¦ÙˆÙŠ.",
      "questions": [
        { "text": "Ø¹Ù†Ø¯ Ø§Ù„Ø¬Ù‡Ø¯ Ø£Ù… Ø§Ù„Ø±Ø§Ø­Ø©ØŸ", "type": "select", "options": ["Ø¬Ù‡Ø¯", "Ø±Ø§Ø­Ø©", "Ù„ÙŠÙ„ÙŠ"] },
        { "text": "ØªØ±Ø¯Ø¯ Ø§Ù„ØªÙ†ÙØ³ØŸ", "type": "number", "min": 12, "max": 30 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø³Ø¹Ø§Ù„", "ØµÙÙŠØ±", "Ø£Ù„Ù…"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø¨Ø§Ø±Ø¯ Ø£Ùˆ Ø±ÙŠØ§Ø¶Ø©ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] },
        { "text": "ØªØ¯Ø®ÙŠÙ† Ø³Ù„Ø¨ÙŠØŸ", "type": "textarea" }
      ]
    },
    "Ø³ÙŠÙ„Ø§Ù† Ø£Ù†Ù Ù…Ø²Ù…Ù†": {
      "description": "Ø¥ÙØ±Ø§Ø²Ø§Øª Ø£Ù†ÙÙŠØ© Ù…Ø³ØªÙ…Ø±Ø©ØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† Ø§Ù„ØªÙ‡Ø§Ø¨ Ø¬ÙŠÙˆØ¨ Ø£Ùˆ Ø­Ø³Ø§Ø³ÙŠØ©.",
      "questions": [
        { "text": "Ù„ÙˆÙ† Ø§Ù„Ø¥ÙØ±Ø§Ø²Ø§ØªØŸ", "type": "select", "options": ["Ø´ÙØ§Ù", "Ø£ØµÙØ±", "Ø£Ø®Ø¶Ø±", "Ø¯Ù…ÙˆÙŠ"] },
        { "text": "Ø¬Ø§Ù†Ø¨ ÙˆØ§Ø­Ø¯ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "ÙƒÙ„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø¹Ø·Ø³", "Ø­ÙƒØ©", "ØµØ¯Ø§Ø¹"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨ØºØ¨Ø§Ø± Ø£Ùˆ Ø­ÙŠÙˆØ§Ù†Ø§ØªØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 12 }
      ]
    },
    "Ø£Ù„Ù… ØµØ¯Ø±ÙŠ ØªÙ†ÙØ³ÙŠ": {
      "description": "Ø£Ù„Ù… ÙŠØ²Ø¯Ø§Ø¯ Ù…Ø¹ Ø§Ù„ØªÙ†ÙØ³ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø§Ù„ØªÙ‡Ø§Ø¨ ØºØ´Ø§Ø¡ Ø±Ø¦ÙˆÙŠ.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø­Ø§Ø¯ Ø¹Ù†Ø¯ Ø§Ù„Ø´Ù‡ÙŠÙ‚", "Ù…Ø³ØªÙ…Ø±", "Ø·Ø¹Ù†"] },
        { "text": "Ù…ÙˆÙ‚Ø¹ØŸ", "type": "select", "options": ["Ø£Ù…Ø§Ù…ÙŠ", "Ø®Ù„ÙÙŠ", "Ø¬Ø§Ù†Ø¨ÙŠ"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø³Ø¹Ø§Ù„", "Ø­Ù…Ù‰", "Ø¶ÙŠÙ‚ ØªÙ†ÙØ³"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø¥ØµØ§Ø¨Ø©ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] }
      ]
    },
    "ØµÙÙŠØ± ØªÙ†ÙØ³ÙŠ": {
      "description": "ØµÙˆØª ØµÙÙŠØ± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙ†ÙØ³ØŒ Ø´Ø§Ø¦Ø¹ ÙÙŠ Ø§Ù„Ø±Ø¨Ùˆ.",
      "questions": [
        { "text": "ØªÙˆÙ‚ÙŠØª Ø§Ù„ØµÙÙŠØ±ØŸ", "type": "select", "options": ["Ø´Ù‡ÙŠÙ‚", "Ø²ÙÙŠØ±", "ÙƒÙ„Ø§"] },
        { "text": "Ø´Ø¯Ø© (1-10)ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø¶ÙŠÙ‚ ØªÙ†ÙØ³", "Ø³Ø¹Ø§Ù„", "ØªØ¹Ø¨"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ØªØ±Ø¯Ø¯ Ø§Ù„Ù†ÙˆØ¨Ø§ØªØŸ", "type": "number", "min": 0, "max": 30 },
        { "text": "Ø¹Ù„Ø§Ø¬ Ø³Ø§Ø¨Ù‚ØŸ", "type": "textarea" }
      ]
    },
    "Ø³Ø¹Ø§Ù„ Ù„ÙŠÙ„ÙŠ": {
      "description": "Ø³Ø¹Ø§Ù„ ÙŠØ²Ø¯Ø§Ø¯ Ù„ÙŠÙ„Ø§Ù‹ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø­Ù…ÙˆØ¶Ø© Ø£Ùˆ Ø±Ø¦ÙˆÙŠ.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¹Ø§Ù„ØŸ", "type": "select", "options": ["Ø¬Ø§ÙØ©", "Ø±Ø·Ø¨Ø©"] },
        { "text": "ØµØ¯Ù‰ Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø­Ù…ÙˆØ¶Ø©", "Ø§Ù†Ø³Ø¯Ø§Ø¯ Ø£Ù†Ù", "Ø­Ù…Ù‰"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£Ø³Ø§Ø¨ÙŠØ¹", "Ø´Ù‡ÙˆØ±"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ø³ØªÙ„Ù‚Ø§Ø¡ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ØªØ¯Ø®ÙŠÙ†ØŸ", "type": "textarea" }
      ]
    },
    "Ø¨Ù„ØºÙ… Ø¯Ù…ÙˆÙŠ": {
      "description": "Ø¨Ù„ØºÙ… Ù…Ø¹ Ø¯Ù…ØŒ Ø¹Ø§Ø¬Ù„ â€“ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø³Ø±Ø·Ø§Ù† Ø±Ø¦Ø© Ø£Ùˆ Ø§Ù„ØªÙ‡Ø§Ø¨.",
      "questions": [
        { "text": "ÙƒÙ…ÙŠØ© Ø§Ù„Ø¯Ù…ØŸ", "type": "select", "options": ["Ù‚Ø·Ø±Ø§Øª", "Ù…Ù„Ø¹Ù‚Ø©", "ØºØ²ÙŠØ±"] },
        { "text": "Ù„ÙˆÙ† Ø§Ù„Ø¨Ù„ØºÙ…ØŸ", "type": "select", "options": ["ÙˆØ±Ø¯ÙŠ", "Ø£Ø­Ù…Ø± ÙƒØ§Ù…Ù„"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["ØªØ¹Ø¨", "ÙÙ‚Ø¯Ø§Ù† ÙˆØ²Ù†", "Ø­Ù…Ù‰"] },
        { "text": "Ù…Ø¯Ø®Ù†ØŸ", "type": "radio", "options": ["Ø­Ø§Ù„ÙŠ", "Ø³Ø§Ø¨Ù‚", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 30 },
        { "text": "ÙØ­ÙˆØµØ§Øª Ø³Ø§Ø¨Ù‚Ø©ØŸ", "type": "textarea" }
      ]
    },
    "Ø¹Ø±Ù‚ Ù„ÙŠÙ„ÙŠ": {
      "description": "ØªØ¹Ø±Ù‚ ØºØ²ÙŠØ± Ù„ÙŠÙ„Ø§Ù‹ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¹Ø¯ÙˆÙ‰ Ø£Ùˆ Ø³Ø±Ø·Ø§Ù†ÙŠ.",
      "questions": [
        { "text": "Ø´Ø¯Ø© Ø§Ù„ØªØ¹Ø±Ù‚ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "ØªØ±Ø¯Ø¯ (Ù„ÙŠÙ„ÙŠÙ‹Ø§)ØŸ", "type": "number", "min": 1, "max": 7 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø­Ù…Ù‰", "ÙÙ‚Ø¯Ø§Ù† ÙˆØ²Ù†", "Ø³Ø¹Ø§Ù„"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£Ø³Ø§Ø¨ÙŠØ¹", "Ø´Ù‡ÙˆØ±"] },
        { "text": "Ø¹Ù…Ø±ØŸ", "type": "number", "min": 18, "max": 100 }
      ]
    }
  },

  // ÙØ¦Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¨ÙˆÙ„ÙŠ (8 Ø£Ø¹Ø±Ø§Ø¶)
  "Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¨ÙˆÙ„ÙŠ": {
    "Ø£Ù„Ù… Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ¨ÙˆÙ„": {
      "description": "Ø­Ø±Ù‚Ø§Ù† Ø£Ùˆ Ø£Ù„Ù… ÙÙŠ Ø§Ù„ØªØ¨ÙˆÙ„ØŒ Ø´Ø§Ø¦Ø¹ ÙÙŠ Ø¹Ø¯ÙˆÙ‰ Ø§Ù„Ù…Ø³Ø§Ù„Ùƒ Ø§Ù„Ø¨ÙˆÙ„ÙŠØ©.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø­Ø±Ù‚Ø§Ù†", "Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø¥Ø­Ù„ÙŠÙ„", "Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø¨Ø·Ù†"] },
        { "text": "ØªØ±Ø¯Ø¯ Ø§Ù„ØªØ¨ÙˆÙ„ØŸ", "type": "select", "options": ["Ù…ØªÙƒØ±Ø± Ù„ÙŠÙ„Ø§Ù‹", "Ù†Ù‡Ø§Ø±Ù‹Ø§", "Ù…Ø³ØªÙ…Ø±"] },
        { "text": "Ø¨ÙˆÙ„ ØºØ§Ø¦Ù… Ø£Ùˆ Ø¯Ù…ÙˆÙŠØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø­Ù…Ù‰", "Ù‚Ø´Ø¹Ø±ÙŠØ±Ø©", "Ø£Ù„Ù… Ø¸Ù‡Ø±"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ù„Ø¬Ù…Ø§Ø¹ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ù„Ø§Ø­Ø¸Ø§ØªØŸ", "type": "textarea" }
      ]
    },
    "ØªØ¨ÙˆÙ„ Ù…ØªÙƒØ±Ø±": {
      "description": "Ø­Ø§Ø¬Ø© Ù…ØªÙƒØ±Ø±Ø© Ù„Ù„ØªØ¨ÙˆÙ„ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø³ÙƒØ±ÙŠ Ø£Ùˆ prostate.",
      "questions": [
        { "text": "Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ù„ÙŠÙ„Ø§Ù‹ØŸ", "type": "number", "min": 0, "max": 10 },
        { "text": "ÙƒÙ…ÙŠØ© Ø§Ù„Ø¨ÙˆÙ„ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø©ØŸ", "type": "select", "options": ["Ù‚Ù„ÙŠÙ„", "ØºØ²ÙŠØ±"] },
        { "text": "Ø¹Ø·Ø´ Ù…ØµØ§Ø­Ø¨ØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ù„Ù…ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø¹Ù…Ø±ØŸ", "type": "number", "min": 18, "max": 100 },
        { "text": "Ø³Ø§Ø¨Ù‚ Ø³ÙƒØ±ÙŠØŸ", "type": "textarea" }
      ]
    },
    "Ø¯Ù… ÙÙŠ Ø§Ù„Ø¨ÙˆÙ„": {
      "description": "Ø¨ÙˆÙ„ Ø¯Ù…ÙˆÙŠØŒ Ø¹Ø§Ø¬Ù„ â€“ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø­ØµÙ‰ Ø£Ùˆ Ø³Ø±Ø·Ø§Ù†.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø¯Ù…ØŸ", "type": "select", "options": ["Ø£Ø­Ù…Ø± Ù…Ø±Ø¦ÙŠ", "ÙˆØ±Ø¯ÙŠ", "ØºÙŠØ± Ù…Ø±Ø¦ÙŠ"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø£Ù„Ù…ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø­Ø±Ù‚Ø§Ù†", "ØªÙˆØ±Ù…", "ØªØ¹Ø¨"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ù…Ø±ØªÙØ¹", "Ù…ØªÙ‚Ø·Ø¹"] },
        { "text": "ÙØ­ÙˆØµØ§Øª Ø³Ø§Ø¨Ù‚Ø©ØŸ", "type": "textarea" }
      ]
    },
    "Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø®Ø§ØµØ±Ø©": {
      "description": "Ø£Ù„Ù… Ø¬Ø§Ù†Ø¨ÙŠØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø­ØµÙ‰ ÙƒÙ„Ù‰ Ø£Ùˆ Ø¹Ø¯ÙˆÙ‰.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["ÙŠÙ…ÙŠÙ†", "ÙŠØ³Ø§Ø±", "ÙƒÙ„Ø§"] },
        { "text": "Ù†ÙˆØ¹ØŸ", "type": "select", "options": ["Ø­Ø§Ø¯ ÙƒÙ„ÙˆØ­", "Ù…ÙˆØ¬ÙŠ", "Ù…Ø³ØªÙ…Ø±"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["ØºØ«ÙŠØ§Ù†", "Ù‚ÙŠØ¡", "Ø¯Ù… Ø¨ÙˆÙ„"] },
        { "text": "ÙŠÙ…ØªØ¯ Ù„Ù„Ø£Ø³ÙÙ„ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ù†ÙˆØ¨Ø©ØŸ", "type": "number", "min": 1, "max": 60 },
        { "text": "Ø³Ø§Ø¨Ù‚ Ø­ØµÙ‰ØŸ", "type": "textarea" }
      ]
    },
    "ØªÙˆØ±Ù… ÙÙŠ Ø§Ù„ÙˆØ¬Ù‡ Ø£Ùˆ Ø§Ù„Ù‚Ø¯Ù…ÙŠÙ†": {
      "description": "ÙˆØ°Ù…Ø©ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† ÙØ´Ù„ ÙƒÙ„ÙˆÙŠ Ø£Ùˆ Ù‚Ù„Ø¨ÙŠ.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªÙˆØ±Ù…ØŸ", "type": "select", "options": ["ÙˆØ¬Ù‡", "Ù‚Ø¯Ù…ÙŠÙ†", "ÙŠØ¯ÙŠÙ†"] },
        { "text": "ÙŠØ®ØªÙÙŠ ØµØ¨Ø§Ø­Ù‹Ø§ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["ØªØ¹Ø¨", "Ø¶ØºØ·", "Ø¨ÙˆÙ„ Ù‚Ù„ÙŠÙ„"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] },
        { "text": "Ø¨Ø±ÙˆØªÙŠÙ† ÙÙŠ Ø¨ÙˆÙ„ Ø³Ø§Ø¨Ù‚ØŸ", "type": "textarea" }
      ]
    },
    "Ø¨ÙˆÙ„ Ø±ØºÙˆÙŠ": {
      "description": "ÙÙ‚Ø§Ø¹Ø§Øª ÙÙŠ Ø§Ù„Ø¨ÙˆÙ„ØŒ Ù‚Ø¯ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø¨Ø±ÙˆØªÙŠÙ†ÙˆØ±ÙŠØ§.",
      "questions": [
        { "text": "ØªØ±Ø¯Ø¯ Ø§Ù„Ø±ØºØ§ÙˆÙŠØŸ", "type": "select", "options": ["Ø¯Ø§Ø¦Ù…", "Ø¨Ø¹Ø¯ Ø£ÙƒÙ„"] },
        { "text": "ØªÙˆØ±Ù… Ù…ØµØ§Ø­Ø¨ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["ØªØ¹Ø¨", "ØºØ«ÙŠØ§Ù†"] },
        { "text": "Ø¹Ù…Ø±ØŸ", "type": "number", "min": 18, "max": 100 },
        { "text": "ÙØ­Øµ ÙƒÙ„Ù‰ Ø³Ø§Ø¨Ù‚ØŸ", "type": "textarea" }
      ]
    },
    "Ø¹Ø·Ø´ Ø´Ø¯ÙŠØ¯": {
      "description": "Ø¹Ø·Ø´ Ù…ÙØ±Ø·ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø³ÙƒØ±ÙŠ Ø£Ùˆ Ù†Ù‚Øµ Ù…Ù„Ø­.",
      "questions": [
        { "text": "ÙƒÙ…ÙŠØ© Ø§Ù„Ø³ÙˆØ§Ø¦Ù„ ÙŠÙˆÙ…ÙŠÙ‹Ø§ (Ù„ØªØ±)ØŸ", "type": "number", "min": 1, "max": 20 },
        { "text": "ØªØ¨ÙˆÙ„ Ù…ØªÙƒØ±Ø±ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø¬ÙØ§Ù ÙÙ…ØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ÙÙ‚Ø¯Ø§Ù† ÙˆØ²Ù†ØŸ", "type": "select", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "textarea" }
      ]
    },
    "Ø¨ÙˆÙ„ Ù„ÙŠÙ„ÙŠ": {
      "description": "Ø§Ø³ØªÙŠÙ‚Ø§Ø¸ Ù„Ù„ØªØ¨ÙˆÙ„ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† prostate Ø£Ùˆ ÙØ´Ù„ Ù‚Ù„Ø¨ÙŠ.",
      "questions": [
        { "text": "Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ù„ÙŠÙ„Ø§Ù‹ØŸ", "type": "number", "min": 0, "max": 10 },
        { "text": "Ø¶ØºØ· ÙÙŠ Ø§Ù„Ù…Ø«Ø§Ù†Ø©ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø¨ÙˆÙ„ Ù‚Ù„ÙŠÙ„ Ø£Ù… ØºØ²ÙŠØ±ØŸ", "type": "select", "options": ["Ù‚Ù„ÙŠÙ„", "ØºØ²ÙŠØ±"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 12 }
      ]
    }
  },

  // ÙØ¦Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¹ØµØ¨ÙŠ (8 Ø£Ø¹Ø±Ø§Ø¶)
  "Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¹ØµØ¨ÙŠ": {
    "ØµØ¯Ø§Ø¹ Ø´Ø¯ÙŠØ¯": {
      "description": "ØµØ¯Ø§Ø¹ Ù‚ÙˆÙŠØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† ØªÙˆØªØ±ÙŠ Ø£Ùˆ migrain Ø£Ùˆ Ø§Ø±ØªÙØ§Ø¹ Ø¶ØºØ·.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØµØ¯Ø§Ø¹ØŸ", "type": "select", "options": ["Ø¬Ø¨Ù‡Ø©", "Ø®Ù„Ù Ø§Ù„Ø¹ÙŠÙˆÙ†", "Ø¬Ø§Ù†Ø¨ÙŠ", "Ù…Ù†ØªØ´Ø±"] },
        { "text": "Ù†ÙˆØ¹ØŸ", "type": "select", "options": ["Ù†Ø¨Ø¶ÙŠ", "Ø¶ØºØ·", "Ø­Ø§Ø¯"] },
        { "text": "Ø´Ø¯Ø© (1-10)ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["ØºØ«ÙŠØ§Ù†", "Ù‚ÙŠØ¡", "Ø­Ø³Ø§Ø³ÙŠØ© Ø¶ÙˆØ¡", "Ø¶Ø¹Ù"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨ØªÙˆØªØ±ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ù†ÙˆØ¨Ø©ØŸ", "type": "select", "options": ["Ø³Ø§Ø¹Ø§Øª", "Ø£ÙŠØ§Ù…"] },
        { "text": "Ø³Ø§Ø¨Ù‚ migrainØŸ", "type": "textarea" }
      ]
    },
    "Ø¯ÙˆØ®Ø©": {
      "description": "Ø¯ÙˆØ±Ø§Ù† Ø£Ùˆ Ø¹Ø¯Ù… ØªÙˆØ§Ø²Ù†ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† labrynth Ø£Ùˆ Ø¶ØºØ·.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙˆØ®Ø©ØŸ", "type": "select", "options": ["Ø¯ÙˆØ±Ø§Ù† Ø§Ù„ØºØ±ÙØ©", "ØºØ´Ø§ÙˆØ©", "ÙÙ‚Ø¯Ø§Ù† ØªÙˆØ§Ø²Ù†"] },
        { "text": "ØªØ±Ø¯Ø¯ØŸ", "type": "select", "options": ["ÙŠÙˆÙ…ÙŠ", "Ø£Ø³Ø¨ÙˆØ¹ÙŠ"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ù‚ÙŠØ¡", "Ø±Ø¤ÙŠØ© Ù…Ø²Ø¯ÙˆØ¬Ø©", "Ø¶Ø¹Ù Ø£Ø·Ø±Ø§Ù"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨ÙˆÙ‚ÙˆÙØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ù†ÙˆØ¨Ø©ØŸ", "type": "number", "min": 1, "max": 60 },
        { "text": "Ø£Ø¯ÙˆÙŠØ©ØŸ", "type": "textarea" }
      ]
    },
    "Ø¶Ø¹Ù Ø¹Ø¶Ù„ÙŠ": {
      "description": "Ø¶Ø¹Ù ÙÙŠ Ø§Ù„Ø£Ø·Ø±Ø§ÙØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø³ÙƒØªØ© Ø£Ùˆ Ù†Ù‚Øµ ÙÙŠØªØ§Ù…ÙŠÙ†.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¶Ø¹ÙØŸ", "type": "select", "options": ["ÙŠÙ…ÙŠÙ†", "ÙŠØ³Ø§Ø±", "ÙƒÙ„Ø§ Ø§Ù„Ø£Ø·Ø±Ø§Ù", "Ø³ÙÙ„"] },
        { "text": "ØªØ¯Ø±ÙŠØ¬ÙŠ Ø£Ù… Ù…ÙØ§Ø¬Ø¦ØŸ", "type": "select", "options": ["ØªØ¯Ø±ÙŠØ¬ÙŠ", "Ù…ÙØ§Ø¬Ø¦"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø®Ø¯Ø±", "ØªØ´Ù†Ø¬", "Ø£Ù„Ù…"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø¬Ù‡Ø¯ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] },
        { "text": "ØªØ­Ø§Ù„ÙŠÙ„ Ø³Ø§Ø¨Ù‚Ø©ØŸ", "type": "textarea" }
      ]
    },
    "Ø®Ø¯Ø± Ø£Ùˆ ÙˆØ®Ø²": {
      "description": "Ø¥Ø­Ø³Ø§Ø³ Ø®Ø¯Ø±ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¹ØµØ¨ÙŠ Ø£Ùˆ Ø³ÙƒØ±ÙŠ.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø®Ø¯Ø±ØŸ", "type": "select", "options": ["Ø£ØµØ§Ø¨Ø¹", "Ø³Ø§Ù‚ÙŠÙ†", "ÙˆØ¬Ù‡"] },
        { "text": "Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ø¬Ø§Ù†Ø¨ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø¶Ø¹Ù", "Ø£Ù„Ù…", "Ø¯ÙˆØ®Ø©"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ù…ÙˆÙ‚Ù Ù†ÙˆÙ…ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 365 }
      ]
    },
    "ØªØ´Ù†Ø¬Ø§Øª Ø¹Ø¶Ù„ÙŠØ©": {
      "description": "ØªØ´Ù†Ø¬ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù†Ù‚Øµ ÙƒØ§Ù„Ø³ÙŠÙˆÙ… Ø£Ùˆ Ø¹ØµØ¨ÙŠ.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªØ´Ù†Ø¬ØŸ", "type": "select", "options": ["Ø³Ø§Ù‚ÙŠÙ†", "ÙŠØ¯ÙŠÙ†", "ÙˆØ¬Ù‡"] },
        { "text": "ØªØ±Ø¯Ø¯ ÙŠÙˆÙ…ÙŠÙ‹Ø§ØŸ", "type": "number", "min": 0, "max": 20 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø£Ù„Ù…", "Ø¶Ø¹Ù", "Ø¯ÙˆØ®Ø©"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø¥Ø±Ù‡Ø§Ù‚ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø¹Ù…Ø±ØŸ", "type": "number", "min": 18, "max": 100 },
        { "text": "ÙÙŠØªØ§Ù…ÙŠÙ†Ø§ØªØŸ", "type": "textarea" }
      ]
    },
    "Ø±Ø¹Ø´Ø©": {
      "description": "Ø±Ø¹Ø´Ø© ÙÙŠ Ø§Ù„ÙŠØ¯ÙŠÙ†ØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† parkinson Ø£Ùˆ ØªÙˆØªØ±.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø±Ø¹Ø´Ø©ØŸ", "type": "select", "options": ["Ø±Ø§Ø­Ø©", "Ø­Ø±ÙƒØ©", "ÙˆØ¶Ø¹ÙŠØ©"] },
        { "text": "Ø´Ø¯Ø© (1-10)ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø¨Ø·Ø¡ Ø­Ø±ÙƒØ©", "ØªÙŠØ¨Ø³", "Ù…Ø´ÙŠ ØµØ¹Ø¨"] },
        { "text": "Ø¹Ù…Ø± Ø§Ù„Ø¨Ø¯Ø¡ØŸ", "type": "number", "min": 20, "max": 80 },
        { "text": "Ø¯ÙˆØ§Ø¡ (levodopa)ØŸ", "type": "textarea" }
      ]
    },
    "ÙÙ‚Ø¯Ø§Ù† Ø°Ø§ÙƒØ±Ø©": {
      "description": "Ù†Ø³ÙŠØ§Ù† Ù‚ØµÙŠØ± Ø§Ù„Ù…Ø¯Ù‰ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† alzheimer Ø£Ùˆ Ø§ÙƒØªØ¦Ø§Ø¨.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„ÙÙ‚Ø¯Ø§Ù†ØŸ", "type": "select", "options": ["Ø£Ø³Ù…Ø§Ø¡", "Ø£Ø­Ø¯Ø§Ø« ÙŠÙˆÙ…ÙŠØ©", "Ø·ÙˆÙŠÙ„"] },
        { "text": "ØªØ¯Ø±ÙŠØ¬ÙŠØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø§Ø±ØªØ¨Ø§Ùƒ", "Ù‚Ù„Ù‚", "Ø§ÙƒØªØ¦Ø§Ø¨"] },
        { "text": "ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©ØŸ", "type": "radio", "options": ["ÙƒØ¨ÙŠØ±", "Ù‚Ù„ÙŠÙ„"] },
        { "text": "Ø¹Ù…Ø±ØŸ", "type": "number", "min": 50, "max": 100 }
      ]
    },
    "ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ù†ÙˆÙ…": {
      "description": "Ø£Ø±Ù‚ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† ØªÙˆØªØ± Ø£Ùˆ depression.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø£Ø±Ù‚ØŸ", "type": "select", "options": ["ØµØ¹ÙˆØ¨Ø© Ù†ÙˆÙ…", "Ø§Ø³ØªÙŠÙ‚Ø§Ø¸ Ù„ÙŠÙ„Ø§Ù‹", "Ù†ÙˆÙ… Ù‚ØµÙŠØ±"] },
        { "text": "Ø³Ø§Ø¹Ø§Øª Ù†ÙˆÙ… ÙŠÙˆÙ…ÙŠÙ‹Ø§ØŸ", "type": "number", "min": 0, "max": 12 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["ØªØ¹Ø¨ Ù†Ù‡Ø§Ø±ÙŠ", "Ù‚Ù„Ù‚", "Ø£Ù„Ù…"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨ØªÙˆØªØ±ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£Ø³Ø§Ø¨ÙŠØ¹", "Ø´Ù‡ÙˆØ±"] },
        { "text": "ÙƒØ§ÙÙŠÙŠÙ†ØŸ", "type": "textarea" }
      ]
    }
  },

  // ÙØ¦Ø© Ø¬Ø±Ø§Ø­ÙŠØ© Ø¹Ø§Ù…Ø© (8 Ø£Ø¹Ø±Ø§Ø¶)
  "Ø¬Ø±Ø§Ø­ÙŠØ© Ø¹Ø§Ù…Ø©": {
    "ÙƒØªÙ„Ø© ÙÙŠ Ø§Ù„Ø«Ø¯ÙŠ Ø£Ùˆ Ø§Ù„Ø®ØµÙŠØ©": {
      "description": "ÙƒØªÙ„Ø© Ù…Ù„Ù…ÙˆØ³Ø©ØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† Ø­Ù…ÙŠØ¯Ø© Ø£Ùˆ Ø®Ø¨ÙŠØ«Ø©. ÙØ­Øµ Ø¹Ø§Ø¬Ù„.",
      "questions": [
        { "text": "Ø­Ø¬Ù… Ø§Ù„ÙƒØªÙ„Ø© (Ø³Ù…)ØŸ", "type": "number", "min": 0, "max": 10 },
        { "text": "Ù…ÙˆÙ‚Ø¹ØŸ", "type": "select", "options": ["Ø«Ø¯ÙŠ ÙŠÙ…ÙŠÙ†", "Ø«Ø¯ÙŠ ÙŠØ³Ø§Ø±", "Ø®ØµÙŠØ© ÙŠÙ…ÙŠÙ†", "Ø®ØµÙŠØ© ÙŠØ³Ø§Ø±"] },
        { "text": "Ø«Ø§Ø¨ØªØ© Ø£Ù… Ù…ØªØ­Ø±ÙƒØ©ØŸ", "type": "radio", "options": ["Ø«Ø§Ø¨ØªØ©", "Ù…ØªØ­Ø±ÙƒØ©"] },
        { "text": "Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ØªØºÙŠÙŠØ±Ø§Øª Ø¬Ù„Ø¯ÙŠØ©ØŸ", "type": "checkbox", "options": ["Ø§Ø­Ù…Ø±Ø§Ø±", "ØªÙ‚Ø´ÙŠØ±"] },
        
        { "text": "ÙØ­Øµ Ø³Ø§Ø¨Ù‚ØŸ", "type": "textarea" }
      ]
    },
    "Ø¬Ø±ÙˆØ­ ØºÙŠØ± Ù…ØªØ¹Ø§ÙÙŠØ©": {
      "description": "Ø¬Ø±Ø­ ÙŠØ³ØªÙ…Ø±ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¹Ø¯ÙˆÙ‰ Ø£Ùˆ Ø³ÙƒØ±ÙŠ.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ø±Ø­ØŸ", "type": "select", "options": ["Ø³Ø§Ù‚", "Ù‚Ø¯Ù…", "ÙŠØ¯"] },
        { "text": "Ù…Ø¯Ø© Ø¹Ø¯Ù… Ø§Ù„Ø´ÙØ§Ø¡ (Ø£Ø³Ø§Ø¨ÙŠØ¹)ØŸ", "type": "number", "min": 1, "max": 52 },
        { "text": "Ø¹Ù„Ø§Ù…Ø§Øª Ø¹Ø¯ÙˆÙ‰ØŸ", "type": "checkbox", "options": ["Ø§Ø­Ù…Ø±Ø§Ø±", "ØªÙˆØ±Ù…", "ØµØ¯ÙŠØ¯"] },
        { "text": "Ø£Ù„Ù…ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø³ÙƒØ±ÙŠ Ø£Ùˆ ØªØ¯Ø®ÙŠÙ†ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø¹Ù„Ø§Ø¬ Ù…ÙˆØ¶Ø¹ÙŠØŸ", "type": "textarea" }
      ]
    },
    "Ø£Ù„Ù… ÙÙŠ Ø§Ù„ÙØªÙ‚": {
      "description": "Ø£Ù„Ù… Ù…Ø¹ Ø§Ù†ØªÙØ§Ø®ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† ÙØªÙ‚ Ø¥Ø±Ø¨ÙŠ.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§Ù†ØªÙØ§Ø®ØŸ", "type": "select", "options": ["Ø¥Ø±Ø¨ÙŠ", "Ø³Ø±ÙŠ", "Ø¬Ø±Ø§Ø­ÙŠ"] },
        { "text": "ÙŠØ®ØªÙÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ù‚Ø§Ø¡ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ù„Ù… Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø¹Ø§Ù„ØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ØºØ«ÙŠØ§Ù† Ù…ØµØ§Ø­Ø¨ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø³Ø§Ø¨Ù‚ Ø¬Ø±Ø§Ø­Ø©ØŸ", "type": "textarea" }
      ]
    },
    "Ù†Ø²ÙŠÙ Ù…Ù† Ø§Ù„Ø´Ø±Ø¬": {
      "description": "Ù†Ø²ÙŠÙ Ø´Ø±Ø¬ÙŠØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¨ÙˆØ§Ø³ÙŠØ± Ø£Ùˆ Ø³Ø±Ø·Ø§Ù†.",
      "questions": [
        { "text": "Ù„ÙˆÙ† Ø§Ù„Ø¯Ù…ØŸ", "type": "select", "options": ["Ø£Ø­Ù…Ø± ÙØ§ØªØ­", "Ø£Ø³ÙˆØ¯"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø¥Ø®Ø±Ø§Ø¬ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ÙƒÙ…ÙŠØ©ØŸ", "type": "select", "options": ["Ù‚Ù„ÙŠÙ„", "Ù…ØªÙˆØ³Ø·", "ØºØ²ÙŠØ±"] },
        { "text": "Ø£Ù„Ù… Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„Ø¨Ø±Ø§Ø²ØŸ", "type": "textarea" },
    
      ]
    },
    "Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø¸Ù‡Ø± Ø§Ù„Ø³ÙÙ„ÙŠ": {
      "description": "Ø£Ù„Ù… Ø¹Ø§Ù…ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¹Ø¶Ù„ÙŠ Ø£Ùˆ Ù‚Ø±ØµÙŠ Ø£Ùˆ ÙƒÙ„ÙˆÙŠ.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø­Ø§Ø¯", "Ù…Ø²Ù…Ù†", "Ù…Ù†ØªØ´Ø±"] },
        { "text": "ÙŠÙ…ØªØ¯ Ù„Ù„Ø³Ø§Ù‚ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø¬Ù‡Ø¯ØŸ", "type": "checkbox", "options": ["Ø±ÙØ¹ Ø£Ø«Ù‚Ø§Ù„", "Ø¬Ù„ÙˆØ³ Ø·ÙˆÙŠÙ„"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø®Ø¯Ø± Ø³Ø§Ù‚", "Ø¶Ø¹Ù"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£ÙŠØ§Ù…", "Ø£Ø´Ù‡Ø±"] },
        { "text": "Ø¥ØµØ§Ø¨Ø© Ø³Ø§Ø¨Ù‚Ø©ØŸ", "type": "textarea" }
      ]
    },
    "ØªÙˆØ±Ù… ÙÙŠ Ø§Ù„Ø®ØµÙŠØ©": {
      "description": "ØªÙˆØ±Ù… Ø®ØµÙˆÙŠØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¹Ø¯ÙˆÙ‰ Ø£Ùˆ Ø³Ø±Ø·Ø§Ù†.",
      "questions": [
        { "text": "Ø¬Ø§Ù†Ø¨ ÙˆØ§Ø­Ø¯ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "ÙƒÙ„Ø§"] },
        { "text": "Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø´Ø¯ÙŠØ¯", "Ø®ÙÙŠÙ", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø­Ù…Ù‰", "ØºØ«ÙŠØ§Ù†"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 30 },
        { "text": "Ø¹Ù…Ø± <30ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ÙØ­Øµ Ø³Ø§Ø¨Ù‚ØŸ", "type": "textarea" }
      ]
    },
    "Ø£Ù„Ù… ÙÙŠ Ø§Ù„Ø±Ù‚Ø¨Ø©": {
      "description": "Ø£Ù„Ù… Ø±Ù‚Ø¨Ø©ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¹Ø¶Ù„ÙŠ Ø£Ùˆ ØºØ¯Ø¯ Ù„ÙŠÙ…ÙØ§ÙˆÙŠØ©.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù…ØŸ", "type": "select", "options": ["Ø­Ø§Ø¯", "Ù…Ø²Ù…Ù†", "Ù…Ø¹ ØµÙ„Ø§Ø¨Ø©"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø­Ø±ÙƒØ© Ø±Ø£Ø³ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ØªÙˆØ±Ù… ØºØ¯Ø¯ØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø­Ù…Ù‰ Ø£Ùˆ Ø³Ø¹Ø§Ù„ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] },
        { "text": "Ø¥ØµØ§Ø¨Ø©ØŸ", "type": "textarea" }
      ]
    },
    "ÙƒØ³Ø± Ø£Ùˆ Ø¥ØµØ§Ø¨Ø©": {
      "description": "Ø¥ØµØ§Ø¨Ø© Ø­Ø¯ÙŠØ«Ø©ØŒ Ù‚Ø¯ ØªØ­ØªØ§Ø¬ ØªØ«Ø¨ÙŠØª Ø£Ùˆ Ø¬Ø±Ø§Ø­Ø©.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥ØµØ§Ø¨Ø©ØŸ", "type": "select", "options": ["Ø°Ø±Ø§Ø¹", "Ø³Ø§Ù‚", "Ø±Ø£Ø³"] },
        { "text": "Ù†ÙˆØ¹ØŸ", "type": "select", "options": ["ÙƒØ³Ø±", "Ø§Ù„ØªÙˆØ§Ø¡", "Ø¬Ø±ÙˆØ­"] },
        { "text": "Ø£Ù„Ù… (1-10)ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "ØªÙˆØ±Ù… Ø£Ùˆ ÙƒØ¯Ù…Ø§ØªØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø­Ø±ÙƒØ© Ø§Ù„Ø¬Ø²Ø¡ØŸ", "type": "select", "options": ["Ù…Ø³ØªØ­ÙŠÙ„Ø©", "Ù…Ø¤Ù„Ù…Ø©"] },
        { "text": "ÙˆÙ‚Øª Ø§Ù„Ø¥ØµØ§Ø¨Ø©ØŸ", "type": "textarea" }
      ]
    }
  },

  // ÙØ¦Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØºØ¯Ø¯ÙŠ ÙˆØ§Ù„Ø¬Ù„Ø¯ÙŠ (9 Ø£Ø¹Ø±Ø§Ø¶)
  "Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØºØ¯Ø¯ÙŠ ÙˆØ§Ù„Ø¬Ù„Ø¯ÙŠ": {
    "ØªØ¹Ø±Ù‚ ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠ": {
      "description": "ØªØ¹Ø±Ù‚ Ø²Ø§Ø¦Ø¯ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† ÙØ±Ø· Ù†Ø´Ø§Ø· Ø¯Ø±Ù‚ÙŠØ© Ø£Ùˆ Ø¹Ø¯ÙˆÙ‰.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„ØªØ¹Ø±Ù‚ØŸ", "type": "select", "options": ["Ù„ÙŠÙ„ÙŠ", "Ù†Ù‡Ø§Ø±ÙŠ", "Ø¹Ø§Ù…"] },
        { "text": "Ø´Ø¯Ø©ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["ØªØ¹Ø¨", "ÙÙ‚Ø¯Ø§Ù† ÙˆØ²Ù†", "Ø­Ù…Ù‰"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨ØªÙˆØªØ±ØŸ", "type": "radio", "options": ["Ø¬Ø²Ø¦ÙŠÙ‹Ø§", "Ù„Ø§"] },
        { "text": "Ø¹Ù…Ø± Ø§Ù„Ø¨Ø¯Ø¡ØŸ", "type": "number", "min": 10, "max": 60 },
        { "text": "ÙØ­Øµ Ø¯Ø±Ù‚ÙŠØ©ØŸ", "type": "textarea" }
      ]
    },
    "Ø¬ÙØ§Ù Ø§Ù„Ø¬Ù„Ø¯": {
      "description": "Ø¬Ù„Ø¯ Ø¬Ø§ÙØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù†Ù‚Øµ Ø¥Ø³ØªØ±ÙˆØ¬ÙŠÙ† Ø£Ùˆ Ø³ÙƒØ±ÙŠ.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ÙØ§ÙØŸ", "type": "select", "options": ["ÙŠØ¯ÙŠÙ†", "ÙˆØ¬Ù‡", "Ø¬Ø³Ù… ÙƒØ§Ù…Ù„"] },
        { "text": "Ø­ÙƒØ©ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø´Ù‚ÙˆÙ‚ Ø£Ùˆ Ù†Ø²ÙŠÙØŸ", "type": "checkbox", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ù…Ù†Ø§Ø®ØŸ", "type": "select", "options": ["Ø¬Ø§Ù", "Ø±Ø·Ø¨"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 12 },
        { "text": "Ø£Ø¯ÙˆÙŠØ©ØŸ", "type": "textarea" }
      ]
    },
    "Ø·ÙØ­ Ø¬Ù„Ø¯ÙŠ": {
      "description": "Ø¨Ø«ÙˆØ± Ø£Ùˆ Ø§Ø­Ù…Ø±Ø§Ø±ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø­Ø³Ø§Ø³ÙŠØ© Ø£Ùˆ Ø¹Ø¯ÙˆÙ‰.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø·ÙØ­ØŸ", "type": "select", "options": ["Ø¨Ø«ÙˆØ±", "Ø§Ø­Ù…Ø±Ø§Ø±", "Ø­ÙƒØ©"] },
        { "text": "Ù…ÙˆÙ‚Ø¹ØŸ", "type": "select", "options": ["ÙˆØ¬Ù‡", "Ø¬Ø°Ø¹", "Ø£Ø·Ø±Ø§Ù"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø­Ù…Ù‰", "Ø£Ù„Ù… Ø§Ù„Ù…ÙØ§ØµÙ„", "Ø­ÙƒØ© Ø´Ø¯ÙŠØ¯Ø©"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø¯ÙˆØ§Ø¡ Ø£Ùˆ Ø·Ø¹Ø§Ù…ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] },
        { "text": "ØµÙˆØ±Ø© Ø§Ù„Ø·ÙØ­ØŸ", "type": "textarea" }
      ]
    },
    "Ø´Ø¹Ø± Ø²Ø§Ø¦Ø¯ Ø£Ùˆ ØªØ³Ø§Ù‚Ø·": {
      "description": "ØªØºÙŠÙŠØ±Ø§Øª Ù‡Ø±Ù…ÙˆÙ†ÙŠØ©ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† PCOS Ø£Ùˆ Ù‡Ø±Ù…ÙˆÙ†Ø§Øª.",
      "questions": [
                { "text": "Ù†ÙˆØ¹ Ø§Ù„ØªØºÙŠÙŠØ±ØŸ", "type": "select", "options": ["Ø´Ø¹Ø± Ø²Ø§Ø¦Ø¯ (ÙˆØ¬Ù‡/Ø¬Ø³Ù…)", "ØªØ³Ø§Ù‚Ø· ÙƒØ«ÙŠÙ", "Ø´Ø¹Ø± Ø®ÙÙŠÙ"] },
        { "text": "Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ù…ØªØ£Ø«Ø±Ø©ØŸ", "type": "checkbox", "options": ["ÙˆØ¬Ù‡", "ØµØ¯Ø±", "Ø¸Ù‡Ø±", "Ø±Ø£Ø³"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø¯ÙˆØ±Ø© Ø´Ù‡Ø±ÙŠØ© Ø£Ùˆ Ù‡Ø±Ù…ÙˆÙ†Ø§ØªØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù‡Ø±Ù…ÙˆÙ†ÙŠØ© Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø¯ÙˆØ±Ø© ØºÙŠØ± Ù…Ù†ØªØ¸Ù…Ø©", "Ø²ÙŠØ§Ø¯Ø© ÙˆØ²Ù†", "Ø­Ø¨ Ø´Ø¨Ø§Ø¨"] },
        { "text": "Ø¹Ù…Ø± Ø§Ù„Ø¨Ø¯Ø¡ØŸ", "type": "number", "min": 10, "max": 60 },
        { "text": "Ø¹Ù„Ø§Ø¬ (Ù‡Ø±Ù…ÙˆÙ†ÙŠ)ØŸ", "type": "textarea" }
      ]
    },
    "ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ Ø§Ù„ÙˆØ²Ù†": {
      "description": "Ø²ÙŠØ§Ø¯Ø© Ø£Ùˆ Ù†Ù‚ØµØ§Ù† ÙˆØ²Ù† Ù…ÙØ§Ø¬Ø¦ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† ÙØ±Ø·/Ù†Ù‚Øµ Ù†Ø´Ø§Ø· Ø§Ù„ØºØ¯Ø© Ø£Ùˆ Ø³ÙƒØ±ÙŠ.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„ØªØºÙŠÙŠØ±ØŸ", "type": "select", "options": ["Ø²ÙŠØ§Ø¯Ø©", "Ù†Ù‚ØµØ§Ù†"] },
        { "text": "ÙƒÙ…ÙŠØ© (ÙƒØº) ÙÙŠ 6 Ø£Ø´Ù‡Ø±ØŸ", "type": "number", "min": -50, "max": 50 },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø´Ù‡ÙŠØ©ØŸ", "type": "select", "options": ["Ø²ÙŠØ§Ø¯Ø© Ø´Ù‡ÙŠØ©", "Ù†Ù‚ØµØ§Ù†", "Ø·Ø¨ÙŠØ¹ÙŠ"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["ØªØ¹Ø±Ù‚", "Ø¥Ø±Ù‡Ø§Ù‚", "Ø¬ÙØ§Ù"] },
        { "text": "Ø¹Ù…Ø±ØŸ", "type": "number", "min": 18, "max": 80 },
        { "text": "ÙØ­ÙˆØµØ§Øª Ù‡Ø±Ù…ÙˆÙ†ÙŠØ©ØŸ", "type": "textarea" }
      ]
    },
    "Ø­Ø³Ø§Ø³ÙŠØ© ÙÙŠ Ø§Ù„Ø¬Ù„Ø¯": {
      "description": "Ø§Ø­Ù…Ø±Ø§Ø± Ø£Ùˆ Ø­ÙƒØ©ØŒ Ø´Ø§Ø¦Ø¹Ø© ÙÙŠ Ø­Ø³Ø§Ø³ÙŠØ© Ø£Ùˆ Ø£ÙƒØ²ÙŠÙ…Ø§.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©ØŸ", "type": "select", "options": ["Ø·ÙØ­ Ø­ÙƒØ©", "Ø§Ø­Ù…Ø±Ø§Ø±", "ØªÙˆØ±Ù…"] },
        { "text": "Ù…Ø­ÙØ²Ø§ØªØŸ", "type": "checkbox", "options": ["Ø·Ø¹Ø§Ù…", "Ø¯ÙˆØ§Ø¡", "Ù…Ø§Ø¯Ø© ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©"] },
        { "text": "Ø´Ø¯Ø© Ø§Ù„Ø­ÙƒØ© (1-10)ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø§Ù†ØªØ´Ø§Ø±ØŸ", "type": "select", "options": ["Ù…Ø­Ù„ÙŠ", "Ù…Ù†ØªØ´Ø±"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 30 },
        { "text": "Ø³Ø§Ø¨Ù‚ Ø­Ø³Ø§Ø³ÙŠØ©ØŸ", "type": "textarea" }
      ]
    },
    "Ø£ØµÙØ±Ø§Ø± Ø§Ù„Ø¬Ù„Ø¯": {
      "description": "ÙŠØ±Ù‚Ø§Ù†ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù…Ø´Ø§ÙƒÙ„ ÙƒØ¨Ø¯ Ø£Ùˆ Ø§Ù†Ø³Ø¯Ø§Ø¯ ØµÙØ±Ø§ÙˆÙŠ.",
      "questions": [
        { "text": "Ø£ØµÙØ±Ø§Ø± ÙÙŠ Ø§Ù„Ø¹ÙŠÙˆÙ† Ø£ÙŠØ¶Ù‹Ø§ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ø¨ÙˆÙ„ Ø£ØµÙØ± Ø£Ù… Ø¨Ø±Ø§Ø² ÙØ§ØªØ­ØŸ", "type": "checkbox", "options": ["Ø¨ÙˆÙ„ Ø£ØµÙØ±", "Ø¨Ø±Ø§Ø² ÙØ§ØªØ­"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["Ø£Ù„Ù… Ø¨Ø·Ù†", "ØªØ¹Ø¨", "ØºØ«ÙŠØ§Ù†"] },
        { "text": "ÙƒØ­ÙˆÙ„ Ø£Ùˆ Ø£Ø¯ÙˆÙŠØ© ÙƒØ¨Ø¯ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "select", "options": ["Ø£ÙŠØ§Ù…", "Ø£Ø³Ø§Ø¨ÙŠØ¹"] },
        { "text": "ÙØ­Øµ ÙƒØ¨Ø¯ØŸ", "type": "textarea" }
      ]
    },
    "ÙØ±Ø· Ø§Ù„ØªÙ†Ù…Ù„": {
      "description": "ØªÙ†Ù…Ù„ Ø¬Ù„Ø¯ÙŠØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø­Ø³Ø§Ø³ÙŠØ© Ø£Ùˆ Ø¹ØµØ¨ÙŠ.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ØŸ", "type": "select", "options": ["Ø¬Ø³Ù…", "ÙˆØ¬Ù‡", "Ø£Ø·Ø±Ø§Ù"] },
        { "text": "Ù…Ø­ÙØ²Ø§ØªØŸ", "type": "checkbox", "options": ["Ø­Ø±Ø§Ø±Ø©", "Ø¨Ø§Ø±Ø¯", "Ø¶ØºØ·"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø­ÙƒØ©", "Ø§Ø­Ù…Ø±Ø§Ø±"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ù†ÙˆØ¨Ø©ØŸ", "type": "number", "min": 1, "max": 60 },
        { "text": "ØªÙƒØ±Ø§Ø±ØŸ", "type": "select", "options": ["ÙŠÙˆÙ…ÙŠ", "Ø£Ø³Ø¨ÙˆØ¹ÙŠ"] }
      ]
    },
    "Ø¬Ø±ÙˆØ­ Ø¨Ø·ÙŠØ¦Ø© Ø§Ù„Ø´ÙØ§Ø¡": {
      "description": "Ø´ÙØ§Ø¡ Ø¨Ø·ÙŠØ¡ØŒ Ø´Ø§Ø¦Ø¹ ÙÙŠ Ø³ÙƒØ±ÙŠ Ø£Ùˆ Ù†Ù‚Øµ ÙÙŠØªØ§Ù…ÙŠÙ†.",
      "questions": [
        { "text": "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ø±ÙˆØ­ØŸ", "type": "select", "options": ["Ù‚Ø¯Ù…ÙŠÙ†", "ÙŠØ¯ÙŠÙ†", "ÙÙ…"] },
        { "text": "Ù…Ø¯Ø© Ø§Ù„Ø´ÙØ§Ø¡ (Ø£Ø³Ø§Ø¨ÙŠØ¹)ØŸ", "type": "number", "min": 1, "max": 52 },
        { "text": "Ø¹Ù„Ø§Ù…Ø§Øª Ø¹Ø¯ÙˆÙ‰ØŸ", "type": "checkbox", "options": ["Ø§Ø­Ù…Ø±Ø§Ø±", "ØµØ¯ÙŠØ¯"] },
        { "text": "Ø³ÙƒØ±ÙŠ Ø£Ùˆ ØªØ¯Ø®ÙŠÙ†ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù†Ø¸Ø§Ù… ØºØ°Ø§Ø¦ÙŠØŸ", "type": "textarea" }
      ]
    },
    "ØªØºÙŠØ±Ø§Øª ÙÙŠ Ø§Ù„Ø´Ø¹Ø± Ø£Ùˆ Ø§Ù„Ø£Ø¸Ø§ÙØ±": {
      "description": "ØªØ³Ø§Ù‚Ø· Ø£Ùˆ Ù‡Ø´Ø§Ø´Ø©ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù†Ù‚Øµ ØªØºØ°ÙŠØ© Ø£Ùˆ Ù‡Ø±Ù…ÙˆÙ†ÙŠ.",
      "questions": [
        { "text": "Ù†ÙˆØ¹ Ø§Ù„ØªØºÙŠÙŠØ±ØŸ", "type": "select", "options": ["ØªØ³Ø§Ù‚Ø· Ø´Ø¹Ø±", "Ù‡Ø´Ø§Ø´Ø© Ø£Ø¸Ø§ÙØ±", "ÙƒÙ„Ø§"] },
        { "text": "Ø´Ø¯Ø©ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ø£Ø®Ø±Ù‰ØŸ", "type": "checkbox", "options": ["ØªØ¹Ø¨", "Ø¬Ù„Ø¯ Ø¬Ø§Ù"] },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ù†Ø¸Ø§Ù… ØºØ°Ø§Ø¦ÙŠØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "Ù…Ø¯Ø©ØŸ", "type": "number", "min": 1, "max": 12 },
        { "text": "ÙÙŠØªØ§Ù…ÙŠÙ†Ø§ØªØŸ", "type": "textarea" }
      ]
    },
    "Ø¹Ø±Ù‚ Ø¨Ø§Ø±Ø¯": {
      "description": "ØªØ¹Ø±Ù‚ Ø¨Ø§Ø±Ø¯ Ù…ÙØ§Ø¬Ø¦ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† ØµØ¯Ù…Ø© Ø£Ùˆ Ù‚Ù„Ù‚.",
      "questions": [
        { "text": "ØªÙˆÙ‚ÙŠØªØŸ", "type": "select", "options": ["Ù„ÙŠÙ„ÙŠ", "Ù†Ù‡Ø§Ø±ÙŠ", "Ù…Ø¹ Ø­Ù…Ù‰"] },
        { "text": "Ø£Ø¹Ø±Ø§Ø¶ Ù…ØµØ§Ø­Ø¨Ø©ØŸ", "type": "checkbox", "options": ["Ø±Ø¹Ø´Ø©", "ØªØ¹Ø¨", "ØºØ«ÙŠØ§Ù†"] },
        { "text": "Ø´Ø¯Ø©ØŸ", "type": "range", "min": 1, "max": 10, "step": 1 },
        { "text": "Ø§Ø±ØªØ¨Ø§Ø· Ø¨ØªÙˆØªØ±ØŸ", "type": "radio", "options": ["Ù†Ø¹Ù…", "Ù„Ø§"] },
        { "text": "ØªØ±Ø¯Ø¯ØŸ", "type": "number", "min": 1, "max": 7 }
      ]
    }
  }
};

// ØªØ­Ø¯ÙŠØ« loadSymptomsList Ù„Ø¯Ø¹Ù… Ø§Ù„ÙØ¦Ø§Øª Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø¹Ø±Ø¶ ÙƒØ¹Ù†Ø§ÙˆÙŠÙ† Ù…Ø¹ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ ØªØ­ØªÙ‡Ø§)


let currentSymptom = '';
let questionAnswers = {};

function openSymptomsLibrary() {
  document.getElementById('symptomsModal').style.display = 'block';
  loadSymptomsList();
}

function closeSymptomsModal() {
  document.getElementById('symptomsModal').style.display = 'none';
}

function loadSymptomsList() {
  const symptomsList = document.getElementById('symptomsList');
  symptomsList.innerHTML = '';
  let count = 0;
  Object.keys(symptomsData).forEach(category => {
    count += Object.keys(symptomsData[category]).length; // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ
    const categoryDiv = document.createElement('div');
    categoryDiv.className = 'symptom-item';
    categoryDiv.innerHTML = `<h4 style="color: var(--primary-blue); margin-bottom: 5px;"><i class="fas fa-folder-open"></i> ${category}</h4><div class="sub-symptoms"></div>`;
    const subContainer = categoryDiv.querySelector('.sub-symptoms');
    Object.keys(symptomsData[category]).forEach(symptom => {
      const subItem = document.createElement('div');
      subItem.style = 'padding: 8px 15px; background: rgba(0,0,0,0.02); border-radius: 6px; margin: 5px 0; cursor: pointer; transition: background 0.3s;';
      subItem.innerHTML = `<strong>${symptom}</strong><br><small style="color: var(--secondary-text);">${symptomsData[category][symptom].description}</small>`;
      subItem.onclick = (e) => { e.stopPropagation(); selectSymptom(symptom); };
      subContainer.appendChild(subItem);
      subItem.onmouseover = () => subItem.style.background = 'rgba(30,136,229,0.1)';
      subItem.onmouseout = () => subItem.style.background = 'rgba(0,0,0,0.02)';
    });
    categoryDiv.onclick = (e) => { if (e.target.tagName !== 'DIV' && e.target.tagName !== 'STRONG' && e.target.tagName !== 'SMALL') { /* Ù„Ø§ Ø´ÙŠØ¡ØŒ ÙÙ‚Ø· Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ */ } };
    symptomsList.appendChild(categoryDiv);
  });
  document.getElementById('symptomsCount').textContent = count;
}

function filterSymptoms() {
  const searchTerm = document.getElementById('symptomSearch').value.toLowerCase();
  const categoryItems = document.querySelectorAll('#symptomsList .symptom-item');
  let visibleCount = 0;
  categoryItems.forEach(category => {
    const subItems = category.querySelectorAll('.sub-symptoms > div');
    let categoryHasMatch = false;
    subItems.forEach(subItem => {
      const text = subItem.textContent.toLowerCase();
      if (text.includes(searchTerm)) {
        subItem.style.display = 'block';
        categoryHasMatch = true;
        visibleCount++;
      } else {
        subItem.style.display = 'none';
      }
    });
    category.style.display = categoryHasMatch ? 'block' : 'none';
  });
  if (searchTerm === '') {
    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙƒÙ„ Ø¥Ø°Ø§ ÙØ§Ø±Øº
    document.querySelectorAll('#symptomsList .sub-symptoms > div').forEach(item => item.style.display = 'block');
    document.querySelectorAll('#symptomsList .symptom-item').forEach(cat => cat.style.display = 'block');
    visibleCount = Object.keys(symptomsData).reduce((total, cat) => total + Object.keys(symptomsData[cat]).length, 0);
  }
  document.getElementById('symptomsCount').textContent = visibleCount || 0;
}

function selectSymptom(symptomName) {
  let found = false;
  let symptomData = null;
  
  // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª
  Object.keys(symptomsData).forEach(category => {
    if (symptomsData[category] && symptomsData[category][symptomName]) {
      symptomData = symptomsData[category][symptomName];
      found = true;
      return; // ÙˆÙ‚Ù Ø§Ù„Ø¨Ø­Ø« Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ø«ÙˆØ±
    }
  });
  
  if (found && symptomData) {
    openSymptomQuestions(symptomName, symptomData);
  } else {
    alert('Ø§Ù„Ø¹Ø±Ø¶ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¨Ø­Ø« Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
  }
  
  closeSymptomsModal();
}
function openSymptomQuestions(symptomName, symptomData) {
  currentSymptom = symptomName;
  questionAnswers = {};
  const modal = document.getElementById('questionsModal');
  
  document.getElementById('symptomTitle').textContent = symptomName;
  document.getElementById('symptomDescription').textContent = symptomData.description;
  createQuestions(symptomData.questions);
  modal.style.display = 'block';
}

function createQuestions(questions) {
  const container = document.getElementById('questionsContainer');
  container.innerHTML = '';
  questions.forEach((question, index) => {
    const questionDiv = document.createElement('div');
    questionDiv.className = 'question-item';
    questionDiv.innerHTML = `<h4>${question.text}</h4>${createQuestionInput(question, index)}`;
    container.appendChild(questionDiv);
  });
}

function createQuestionInput(question, index) {
  switch (question.type) {
    case 'select':
      return `<select class="question-input" onchange="saveAnswer(${index}, this.value)"><option value="">Ø§Ø®ØªØ±</option>${question.options.map(opt => `<option value="${opt}">${opt}</option>`).join('')}</select>`;
    case 'checkbox':
      return `<div class="checkbox-group">${question.options.map(opt => `<label><input type="checkbox" onchange="saveCheckboxAnswer(${index}, '${opt.replace(/'/g, "\\'")}', this.checked)"> ${opt}</label>`).join('')}</div>`;
    case 'radio':
      return `<div class="radio-group">${question.options.map(opt => `<label><input type="radio" name="q${index}" onchange="saveAnswer(${index}, '${opt.replace(/'/g, "\\'")}')"> ${opt}</label>`).join('')}</div>`;
    case 'range':
      return `<input type="range" class="question-input" min="${question.min}" max="${question.max}" step="${question.step}" oninput="document.getElementById('rangeValue${index}').textContent = this.value; saveAnswer(${index}, this.value)"><div class="range-container"><span id="rangeValue${index}" class="range-value">${question.min}</span></div>`;
    case 'textarea':
      return `<textarea class="question-input" onchange="saveAnswer(${index}, this.value)"></textarea>`;
    default:
      return `<input type="text" class="question-input" onchange="saveAnswer(${index}, this.value)">`;
  }
}

function saveAnswer(index, value) {
  questionAnswers[index] = value;
}

function saveCheckboxAnswer(index, option, isChecked) {
  if (!questionAnswers[index]) questionAnswers[index] = [];
  if (isChecked) {
    if (!questionAnswers[index].includes(option)) questionAnswers[index].push(option);
  } else {
    questionAnswers[index] = questionAnswers[index].filter(item => item !== option);
  }
}

function closeQuestionsModal() {
  document.getElementById('questionsModal').style.display = 'none';
}

function addSymptomWithAnswers() {
  if (Object.keys(questionAnswers).length === 0) {
    alert('ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©.');
    return;
  }
  
  // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„ÙŠ
  let symptomData = null;
  Object.keys(symptomsData).forEach(category => {
    if (symptomsData[category] && symptomsData[category][currentSymptom]) {
      symptomData = symptomsData[category][currentSymptom];
    }
  });
  
  const div = document.createElement('div');
  div.className = 'list-item';
  div.id = `complaint_${Date.now()}`;
  
  let summary = currentSymptom;
  const answers = Object.values(questionAnswers).filter(v => v);
  
  if (answers.length > 0) {
    summary += ": ";
    answers.forEach((answer, idx) => {
      if (symptomData && symptomData.questions[idx]) {
        const questionText = symptomData.questions[idx].text.replace('ØŸ', '').trim();
        summary += `${questionText}: ${answer}ØŒ `;
      }
    });
    summary = summary.slice(0, -2);
  }
  
  div.innerHTML = `<input type="text" value="${summary}" readonly><button class="remove-btn" onclick="removeItem('${div.id}')"><i class="fas fa-trash"></i></button>`;
  document.getElementById('complaintsList').appendChild(div);
  closeQuestionsModal();
  alert(`ØªÙ… Ø¥Ø¶Ø§ÙØ© "${currentSymptom}" Ø¥Ù„Ù‰ Ø§Ù„Ø´ÙƒØ§ÙŠØ§Øª.`);
}

// window.onclick Ù„Ù„Ø¥ØºÙ„Ø§Ù‚
window.onclick = function(event) {
  if (event.target.id === 'symptomsModal') closeSymptomsModal();
  if (event.target.id === 'questionsModal') closeQuestionsModal();
  if (event.target.id === 'historyModal') closeHistoryModal();
};

// collectFormData
function collectFormData() {
  return {
    fullName: document.getElementById('fullName')?.value || '',
    gender: document.getElementById('gender')?.value || '',
    age: document.getElementById('age')?.value || '',
    maritalStatus: document.getElementById('maritalStatus')?.value || '',
    childrenCount: document.getElementById('childrenCount')?.value || '',
    address: document.getElementById('address')?.value || '',
    occupation: document.getElementById('occupation')?.value || '',
    vitalsOptIn: document.getElementById('vitalsOptIn')?.value || '',
    bloodPressure: document.getElementById('bloodPressure')?.value || '',
    pulse: document.getElementById('pulse')?.value || '',
    temperature: document.getElementById('temperature')?.value || '',
    respiratoryRate: document.getElementById('respiratoryRate')?.value || '',
    weight: document.getElementById('weight')?.value || '',
    height: document.getElementById('height')?.value || '',
    bmi: document.getElementById('bmi')?.value || '',
    smoking: document.getElementById('smoking')?.value || '',
    smokingQuantity: document.getElementById('smokingQuantity')?.value || '',
    alcohol: document.getElementById('alcohol')?.value || '',
    alcoholQuantity: document.getElementById('alcoholQuantity')?.value || '',
    drugs: document.getElementById('drugs')?.value || '',
    drugsQuantity: document.getElementById('drugsQuantity')?.value || ''
  };
}

// collectFormSummary Ùˆ generateSummary
function collectFormSummary(forDisplay = false) {
  const data = collectFormData();
  let summary = '';
  if (forDisplay) {
    summary = '<h3>Ù…Ù„Ø®Øµ Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø³Ø±ÙŠØ±ÙŠØ©:</h3>';
    summary += `<p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${data.fullName}, <strong>Ø§Ù„Ø¬Ù†Ø³:</strong> ${data.gender}, <strong>Ø§Ù„Ø¹Ù…Ø±:</strong> ${data.age}</p>`;
    if (data.maritalStatus || data.childrenCount) {
      summary += `<p><strong>Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©:</strong> ${data.maritalStatus}`;
      if (data.childrenCount) summary += `, <strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆÙ„Ø§Ø¯:</strong> ${data.childrenCount}`;
      summary += '</p>';
    }
    if (data.address) summary += `<p><strong>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø³ÙƒÙ†:</strong> ${data.address}</p>`;
    if (data.occupation) summary += `<p><strong>Ø§Ù„Ù…Ù‡Ù†Ø©:</strong> ${data.occupation}</p>`;
  } else {
    summary = `Ø§Ù„Ø§Ø³Ù…: ${data.fullName}, Ø§Ù„Ø¬Ù†Ø³: ${data.gender}, Ø§Ù„Ø¹Ù…Ø±: ${data.age}, Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©: ${data.maritalStatus}, Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${data.address}, Ø§Ù„Ù…Ù‡Ù†Ø©: ${data.occupation}`;
  }
  
  if (data.smoking !== 'Ù„Ø§') summary += `, Ø§Ù„ØªØ¯Ø®ÙŠÙ†: ${data.smoking} ${data.smokingQuantity}`;
  if (data.alcohol !== 'Ù„Ø§') summary += `, Ø§Ù„ÙƒØ­ÙˆÙ„: ${data.alcohol} ${data.alcoholQuantity}`;
  if (data.drugs !== 'Ù„Ø§') summary += `, Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª: ${data.drugs} ${data.drugsQuantity}`;
  
  if (data.vitalsOptIn === 'Ù†Ø¹Ù…') {
    let vitals = ', Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©: ';
    if (data.bloodPressure) vitals += `Ø¶ØºØ· ${data.bloodPressure}, `;
    if (data.pulse) vitals += `Ù†Ø¨Ø¶ ${data.pulse}, `;
    if (data.temperature) vitals += `Ø­Ø±Ø§Ø±Ø© ${data.temperature}, `;
    if (data.respiratoryRate) vitals += `ØªÙ†ÙØ³ ${data.respiratoryRate}, `;
    if (data.weight || data.height) vitals += `ÙˆØ²Ù† ${data.weight}ÙƒØº, Ø·ÙˆÙ„ ${data.height}Ø³Ù…, BMI ${data.bmi}`;
    summary += vitals;
  }
  
  const complaints = Array.from(document.querySelectorAll('#complaintsList .list-item input')).map(input => input.value).filter(v => v).join('; ');
  if (complaints) {
    if (forDisplay) summary += `<p><strong>Ø§Ù„Ø´ÙƒØ§ÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:</strong> ${complaints}</p>`;
    else summary += `, Ø§Ù„Ø´ÙƒØ§ÙŠØ§Øª: ${complaints}`;
  }
  
  // Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ (Ù…ÙˆØ¬Ø²)
  const medicalInputs = document.querySelectorAll('#medicalHistoryList .list-item input');
  let medical = '';
  for (let i = 0; i < medicalInputs.length; i += 2) {
    const disease = medicalInputs[i]?.value || '';
    const details = medicalInputs[i+1]?.value || '';
    if (disease) medical += `${disease} (${details}), `;
  }
  if (medical) {
    medical = medical.slice(0, -2);
    if (forDisplay) summary += `<p><strong>Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ù…Ø±Ø¶ÙŠØ©:</strong> ${medical}</p>`;
    else summary += `, Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ù…Ø±Ø¶ÙŠØ©: ${medical}`;
  }
  
  const surgicalInputs = document.querySelectorAll('#surgicalHistoryList .list-item input');
  let surgical = '';
  for (let i = 0; i < surgicalInputs.length; i += 2) {
    const surgery = surgicalInputs[i]?.value || '';
    const details = surgicalInputs[i+1]?.value || '';
    if (surgery) surgical += `${surgery} (${details}), `;
  }
  if (surgical) {
    surgical = surgical.slice(0, -2);
    if (forDisplay) summary += `<p><strong>Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©:</strong> ${surgical}</p>`;
    else summary += `, Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©: ${surgical}`;
  }
  
  const drugInputs = document.querySelectorAll('#drugHistoryList .list-item input');
  let drug = '';
  for (let i = 0; i < drugInputs.length; i += 2) {
    const med = drugInputs[i]?.value || '';
    const details = drugInputs[i+1]?.value || '';
    if (med) drug += `${med} (${details}), `;
  }
  if (drug) {
    drug = drug.slice(0, -2);
    if (forDisplay) summary += `<p><strong>Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¯ÙˆØ§Ø¦ÙŠØ©:</strong> ${drug}</p>`;
    else summary += `, Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¯ÙˆØ§Ø¦ÙŠØ©: ${drug}`;
  }
  
  const allergyInputs = document.querySelectorAll('#allergyHistoryList .list-item input');
  let allergy = '';
  for (let i = 0; i < allergyInputs.length; i += 2) {
    const allerg = allergyInputs[i]?.value || '';
    const details = allergyInputs[i+1]?.value || '';
    if (allerg) allergy += `${allerg} (${details}), `;
  }
  if (allergy) {
    allergy = allergy.slice(0, -2);
    if (forDisplay) summary += `<p><strong>Ø§Ù„ØªØ­Ø³Ø³Ø§Øª:</strong> ${allergy}</p>`;
    else summary += `, Ø§Ù„ØªØ­Ø³Ø³Ø§Øª: ${allergy}`;
  }
  
  const familyInputs = document.querySelectorAll('#familyHistoryList .list-item input');
  const familySelects = document.querySelectorAll('#familyHistoryList .list-item select');
  let family = '';
  for (let i = 0; i < familyInputs.length; i++) {
    const famDisease = familyInputs[i]?.value || '';
    const relation = familySelects[i]?.value || '';
    if (famDisease) family += `${famDisease} (${relation}), `;
  }
  if (family) {
    family = family.slice(0, -2);
    if (forDisplay) summary += `<p><strong>Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©:</strong> ${family}</p>`;
    else summary += `, Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©: ${family}`;
  }
  
  const reportsInputs = document.querySelectorAll('#reportsList .list-item input');
  let reports = Array.from(reportsInputs).map(input => input.value).filter(v => v).join('; ');
  if (reports) {
    if (forDisplay) summary += `<p><strong>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø·Ø¨ÙŠØ©:</strong> ${reports}</p>`;
    else summary += `, Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±: ${reports}`;
  }

  return summary;
}

function generateSummary() {
  const summaryHtml = collectFormSummary(true);
  document.getElementById('generatedSummary').innerHTML = summaryHtml;
}

// sendFormToAI
async function sendFormToAI() {
  if (!validateCurrentStep()) return;
  // Ø¨Ø¹Ø¯ Ù…Ø§ ÙŠØ®Ù„Øµ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø±ÙˆØ­ Ù„Ø®Ø·ÙˆØ© 9
showStep(9);

  const summary = collectFormSummary(false);
  const prompt = `Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø³Ø±ÙŠØ±ÙŠØ© Ù„Ù„Ø¯Ø§Ø®Ù„ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ø£Ùˆ Ø§Ù„Ø¬Ø±Ø§Ø­Ø©: ${summary}ØŒ Ù‚Ø¯Ù… 3-5 ØªØ´Ø®ÙŠØµØ§Øª ØªÙØ±ÙŠÙ‚ÙŠØ© Ù…Ø­ØªÙ…Ù„Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŒ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø´ÙƒØ§ÙŠØ§ØªØŒ Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ØŒ ÙˆØ§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©. Ø£Ø±Ø¬Ø¹ JSON ÙÙ‚Ø·: [{"diagnosis": "...", "reasons": "...", "recommendedTests": "...", "probability": "..."}]`;

  try {
    const resultsTable = document.getElementById('resultsTable');
    resultsTable.innerHTML = `
      <div style="text-align: center; padding: 40px; background: var(--card-bg); border-radius: var(--border-radius);">
        <i class="fas fa-spinner fa-spin" style="font-size: 48px; color: var(--primary-blue); margin-bottom: 20px;"></i>
        <h3>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</h3>
        <p>ÙŠØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø³Ø±ÙŠØ±ÙŠØ© ÙˆØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªØ´Ø®ÙŠØµØ§Øª Ø§Ù„ØªÙØ±ÙŠÙ‚ÙŠØ©. Ù‡Ø°Ø§ Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ø¨Ø¶Ø¹ Ø«ÙˆØ§Ù†Ù.</p>
      </div>
    `;

    await new Promise(resolve => setTimeout(resolve, 3000));

    let fullResponse = '';
    let diagnoses = null;

    if (typeof puter !== 'undefined' && puter.ai && puter.ai.chat) {
      const resp = await puter.ai.chat(prompt, { model: 'claude', stream: true });
      for await (const part of resp) {
        fullResponse += part?.text || '';
      }

      const jsonMatch = fullResponse.match(/\[\s*\{[\s\S]*?\}\s*(?:,\s*\{[\s\S]*?\}\s*)*\]/);
      if (jsonMatch) {
        try {
          diagnoses = JSON.parse(jsonMatch[0]);
          if (!Array.isArray(diagnoses) || diagnoses.length === 0) throw new Error('JSON ØºÙŠØ± ØµØ§Ù„Ø­');
        } catch (e) {
          console.error('Ø®Ø·Ø£ ÙÙŠ JSON:', e);
          diagnoses = null;
        }
      }
    }

    if (!diagnoses || diagnoses.length === 0) {
      throw new Error('ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ´Ø®ÙŠØµØ§Øª.');
    }

    resultsTable.innerHTML = renderDiagnosesHtml(diagnoses);
    analysisCompleted = true;
    showStep(9);
    document.getElementById('step9').scrollIntoView({ behavior: 'smooth' });
    alert('ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!');
  } catch (error) {
    console.error('Ø®Ø·Ø£ ÙÙŠ sendFormToAI:', error);
    const resultsTable = document.getElementById('resultsTable');
    resultsTable.innerHTML = `
      <div style="text-align: center; padding: 40px; color: red; background: var(--card-bg); border-radius: var(--border-radius);">
        <i class="fas fa-exclamation-triangle" style="font-size: 48px; margin-bottom: 20px;"></i>
        <h3>Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„</h3>
        <p>${error.message}</p>
        <button class="btn" onclick="sendFormToAI()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
      </div>
    `;
    showStep(9);
  }
}


// ===== Responsive rendering helpers: render table on desktop, cards on mobile =====
function isMobile() {
  return window.matchMedia && window.matchMedia('(max-width: 768px)').matches;
}
function escapeHtml(str) {
  return String(str || '').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');
}
function renderDiagnosesHtml(diagnoses) {
  if (!Array.isArray(diagnoses)) diagnoses = [];
  if (isMobile()) {
    let cards = '<div class=\"diagnosis-cards\">';
    diagnoses.forEach(diag => {
      const diagnosis = escapeHtml(diag.diagnosis || '');
      const reasons = escapeHtml(diag.reasons || '');
      const tests = escapeHtml(diag.recommendedTests || '');
      const prob = escapeHtml(diag.probability || '');
      cards += `<div class=\"diagnosis-card\" data-diagnosis=\"${diagnosis}\" data-reasons=\"${reasons}\" data-tests=\"${tests}\" data-probability=\"${prob}\">`;
      cards += `<h3 class=\"card-title\">${diagnosis}</h3>`;
      cards += `<div class=\"card-row\"><strong>Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:</strong><div class=\"card-reasons\">${reasons}</div></div>`;
      cards += `<div class=\"card-row\"><strong>Ø§Ù„Ø§Ø³ØªÙ‚ØµØ§Ø¡Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:</strong><div class=\"card-tests\">${tests}</div></div>`;
      cards += `<div class=\"card-row\"><strong>Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ©:</strong> <span class=\"card-prob\" style=\"font-weight:bold;color:var(--success-green);\">${prob}</span></div>`;
      cards += `</div>`;
    });
    cards += '</div>';
    return cards;
  } else {
    let tableHtml = `<table><thead><tr><th>Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ù…Ø­ØªÙ…Ù„</th><th>Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</th><th>Ø§Ù„Ø§Ø³ØªÙ‚ØµØ§Ø¡Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</th><th>Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ©</th></tr></thead><tbody>`;
    diagnoses.forEach(diag => {
      tableHtml += `<tr><td>${diag.diagnosis || ''}</td><td>${diag.reasons || ''}</td><td>${diag.recommendedTests || ''}</td><td style=\"font-weight: bold; color: var(--success-green);\">${diag.probability || ''}</td></tr>`;
    });
    tableHtml += '</tbody></table>';
    return tableHtml;
  }
}
// ===== end helpers =====

// Dark Mode
function applyTheme(theme) {
  document.documentElement.setAttribute('data-theme', theme);
}
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
applyTheme(prefersDark ? 'dark' : 'light');
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => applyTheme(e.matches ? 'dark' : 'light'));
</script>
<script>
// Ø¯Ø§Ù„Ø© Ø§Ù„Ø«ÙŠÙ… (Ø§Ù†Ø³Ø®Ù‡Ø§ ÙÙŠ ÙƒÙ„ ØµÙØ­Ø©)
function initTheme() {
  function applyTheme(theme) {
    document.documentElement.setAttribute('data-theme', theme); // Ø£Ùˆ document.body
    localStorage.setItem('theme', theme); // Ø­ÙØ¸ Ù„Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰
    // Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙŠ Ø²Ø±ØŒ Ø­Ø¯Ø«Ù‡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    const toggleBtn = document.getElementById('themeToggle'); // Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø²Ø±
    if (toggleBtn) {
      const icon = toggleBtn.querySelector('i');
      const text = theme === 'dark' ? 'ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±' : 'ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„';
      icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
      toggleBtn.innerHTML = `${icon.outerHTML} ${text}`;
    }
  }

  const savedTheme = localStorage.getItem('theme') || 'light';
  applyTheme(savedTheme);

  // Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙŠ Ø²Ø± themeToggleØŒ Ø£Ø¶Ù event listener
  const themeToggle = document.getElementById('themeToggle');
  if (themeToggle) {
    themeToggle.addEventListener('click', () => {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      applyTheme(newTheme);
    });
  }
}

// Ø´ØºÙ„Ù‡Ø§ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
document.addEventListener('DOMContentLoaded', initTheme);
</script>
</body>
</html>
